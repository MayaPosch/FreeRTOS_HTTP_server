ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"mem.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.ptr_to_mem,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv5-sp-d16
  25              	ptr_to_mem:
  26              	.LVL0:
  27              	.LFB30:
  28              		.file 1 "Middlewares/Third_Party/LwIP/src/core/mem.c"
   1:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
   2:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Dynamic memory manager
   4:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
   5:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * This is a lightweight replacement for the standard C library malloc().
   6:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
   7:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * If you want to use the standard C library malloc() instead, define
   8:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * MEM_LIBC_MALLOC to 1 in your lwipopts.h
   9:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  10:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * To let mem_malloc() use pools (prevents fragmentation and is much faster than
  11:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * a heap but might waste some memory), define MEM_USE_POOLS to 1, define
  12:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * MEMP_USE_CUSTOM_POOLS to 1 and create a file "lwippools.h" that includes a list
  13:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * of pools like this (more pools can be added between _START and _END):
  14:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  15:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Define three pools with sizes 256, 512, and 1512 bytes
  16:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * LWIP_MALLOC_MEMPOOL_START
  17:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * LWIP_MALLOC_MEMPOOL(20, 256)
  18:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * LWIP_MALLOC_MEMPOOL(10, 512)
  19:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * LWIP_MALLOC_MEMPOOL(5, 1512)
  20:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * LWIP_MALLOC_MEMPOOL_END
  21:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
  22:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  23:Middlewares/Third_Party/LwIP/src/core/mem.c **** /*
  24:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
  25:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * All rights reserved.
  26:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  27:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Redistribution and use in source and binary forms, with or without modification,
  28:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * are permitted provided that the following conditions are met:
  29:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  30:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * 1. Redistributions of source code must retain the above copyright notice,
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 2


  31:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *    this list of conditions and the following disclaimer.
  32:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  33:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *    this list of conditions and the following disclaimer in the documentation
  34:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *    and/or other materials provided with the distribution.
  35:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * 3. The name of the author may not be used to endorse or promote products
  36:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *    derived from this software without specific prior written permission.
  37:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  38:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  39:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  40:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  41:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  42:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  43:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  44:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  45:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  46:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  47:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * OF SUCH DAMAGE.
  48:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  49:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * This file is part of the lwIP TCP/IP stack.
  50:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  51:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Author: Adam Dunkels <adam@sics.se>
  52:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *         Simon Goldschmidt
  53:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  54:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
  55:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  56:Middlewares/Third_Party/LwIP/src/core/mem.c **** #include "lwip/opt.h"
  57:Middlewares/Third_Party/LwIP/src/core/mem.c **** #include "lwip/mem.h"
  58:Middlewares/Third_Party/LwIP/src/core/mem.c **** #include "lwip/def.h"
  59:Middlewares/Third_Party/LwIP/src/core/mem.c **** #include "lwip/sys.h"
  60:Middlewares/Third_Party/LwIP/src/core/mem.c **** #include "lwip/stats.h"
  61:Middlewares/Third_Party/LwIP/src/core/mem.c **** #include "lwip/err.h"
  62:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  63:Middlewares/Third_Party/LwIP/src/core/mem.c **** #include <string.h>
  64:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  65:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_LIBC_MALLOC
  66:Middlewares/Third_Party/LwIP/src/core/mem.c **** #include <stdlib.h> /* for malloc()/free() */
  67:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
  68:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  69:Middlewares/Third_Party/LwIP/src/core/mem.c **** /* This is overridable for tests only... */
  70:Middlewares/Third_Party/LwIP/src/core/mem.c **** #ifndef LWIP_MEM_ILLEGAL_FREE
  71:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_ILLEGAL_FREE(msg)         LWIP_ASSERT(msg, 0)
  72:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
  73:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  74:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_STATS_INC_LOCKED(x)         SYS_ARCH_LOCKED(MEM_STATS_INC(x))
  75:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_STATS_INC_USED_LOCKED(x, y) SYS_ARCH_LOCKED(MEM_STATS_INC_USED(x, y))
  76:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_STATS_DEC_USED_LOCKED(x, y) SYS_ARCH_LOCKED(MEM_STATS_DEC_USED(x, y))
  77:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  78:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK
  79:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_SANITY_OFFSET   MEM_SANITY_REGION_BEFORE_ALIGNED
  80:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_SANITY_OVERHEAD (MEM_SANITY_REGION_BEFORE_ALIGNED + MEM_SANITY_REGION_AFTER_ALIGNED)
  81:Middlewares/Third_Party/LwIP/src/core/mem.c **** #else
  82:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_SANITY_OFFSET   0
  83:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_SANITY_OVERHEAD 0
  84:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
  85:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  86:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK || MEMP_OVERFLOW_CHECK
  87:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 3


  88:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Check if a mep element was victim of an overflow or underflow
  89:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * (e.g. the restricted area after/before it has been altered)
  90:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  91:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param p the mem element to check
  92:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param size allocated size of the element
  93:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param descr1 description of the element source shown on error
  94:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param descr2 description of the element source shown on error
  95:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
  96:Middlewares/Third_Party/LwIP/src/core/mem.c **** void
  97:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_overflow_check_raw(void *p, size_t size, const char *descr1, const char *descr2)
  98:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
  99:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_SANITY_REGION_AFTER_ALIGNED || MEM_SANITY_REGION_BEFORE_ALIGNED
 100:Middlewares/Third_Party/LwIP/src/core/mem.c ****   u16_t k;
 101:Middlewares/Third_Party/LwIP/src/core/mem.c ****   u8_t *m;
 102:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 103:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_SANITY_REGION_AFTER_ALIGNED > 0
 104:Middlewares/Third_Party/LwIP/src/core/mem.c ****   m = (u8_t *)p + size;
 105:Middlewares/Third_Party/LwIP/src/core/mem.c ****   for (k = 0; k < MEM_SANITY_REGION_AFTER_ALIGNED; k++) {
 106:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (m[k] != 0xcd) {
 107:Middlewares/Third_Party/LwIP/src/core/mem.c ****       char errstr[128];
 108:Middlewares/Third_Party/LwIP/src/core/mem.c ****       snprintf(errstr, sizeof(errstr), "detected mem overflow in %s%s", descr1, descr2);
 109:Middlewares/Third_Party/LwIP/src/core/mem.c ****       LWIP_ASSERT(errstr, 0);
 110:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 111:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 112:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_SANITY_REGION_AFTER_ALIGNED > 0 */
 113:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 114:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_SANITY_REGION_BEFORE_ALIGNED > 0
 115:Middlewares/Third_Party/LwIP/src/core/mem.c ****   m = (u8_t *)p - MEM_SANITY_REGION_BEFORE_ALIGNED;
 116:Middlewares/Third_Party/LwIP/src/core/mem.c ****   for (k = 0; k < MEM_SANITY_REGION_BEFORE_ALIGNED; k++) {
 117:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (m[k] != 0xcd) {
 118:Middlewares/Third_Party/LwIP/src/core/mem.c ****       char errstr[128];
 119:Middlewares/Third_Party/LwIP/src/core/mem.c ****       snprintf(errstr, sizeof(errstr), "detected mem underflow in %s%s", descr1, descr2);
 120:Middlewares/Third_Party/LwIP/src/core/mem.c ****       LWIP_ASSERT(errstr, 0);
 121:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 122:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 123:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_SANITY_REGION_BEFORE_ALIGNED > 0 */
 124:Middlewares/Third_Party/LwIP/src/core/mem.c **** #else
 125:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_UNUSED_ARG(p);
 126:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_UNUSED_ARG(desc);
 127:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_UNUSED_ARG(descr);
 128:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 129:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 130:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 131:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 132:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Initialize the restricted area of a mem element.
 133:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 134:Middlewares/Third_Party/LwIP/src/core/mem.c **** void
 135:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_overflow_init_raw(void *p, size_t size)
 136:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 137:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_SANITY_REGION_BEFORE_ALIGNED > 0 || MEM_SANITY_REGION_AFTER_ALIGNED > 0
 138:Middlewares/Third_Party/LwIP/src/core/mem.c ****   u8_t *m;
 139:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_SANITY_REGION_BEFORE_ALIGNED > 0
 140:Middlewares/Third_Party/LwIP/src/core/mem.c ****   m = (u8_t *)p - MEM_SANITY_REGION_BEFORE_ALIGNED;
 141:Middlewares/Third_Party/LwIP/src/core/mem.c ****   memset(m, 0xcd, MEM_SANITY_REGION_BEFORE_ALIGNED);
 142:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 143:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_SANITY_REGION_AFTER_ALIGNED > 0
 144:Middlewares/Third_Party/LwIP/src/core/mem.c ****   m = (u8_t *)p + size;
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 4


 145:Middlewares/Third_Party/LwIP/src/core/mem.c ****   memset(m, 0xcd, MEM_SANITY_REGION_AFTER_ALIGNED);
 146:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 147:Middlewares/Third_Party/LwIP/src/core/mem.c **** #else /* MEM_SANITY_REGION_BEFORE_ALIGNED > 0 || MEM_SANITY_REGION_AFTER_ALIGNED > 0 */
 148:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_UNUSED_ARG(p);
 149:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_UNUSED_ARG(desc);
 150:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_SANITY_REGION_BEFORE_ALIGNED > 0 || MEM_SANITY_REGION_AFTER_ALIGNED > 0 */
 151:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 152:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_OVERFLOW_CHECK || MEMP_OVERFLOW_CHECK */
 153:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 154:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_LIBC_MALLOC || MEM_USE_POOLS
 155:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 156:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** mem_init is not used when using pools instead of a heap or using
 157:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * C library malloc().
 158:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 159:Middlewares/Third_Party/LwIP/src/core/mem.c **** void
 160:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_init(void)
 161:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 162:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 163:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 164:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** mem_trim is not used when using pools instead of a heap or using
 165:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * C library malloc(): we can't free part of a pool element and the stack
 166:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * support mem_trim() to return a different pointer
 167:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 168:Middlewares/Third_Party/LwIP/src/core/mem.c **** void *
 169:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_trim(void *mem, mem_size_t size)
 170:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 171:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_UNUSED_ARG(size);
 172:Middlewares/Third_Party/LwIP/src/core/mem.c ****   return mem;
 173:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 174:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_LIBC_MALLOC || MEM_USE_POOLS */
 175:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 176:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_LIBC_MALLOC
 177:Middlewares/Third_Party/LwIP/src/core/mem.c **** /* lwIP heap implemented using C library malloc() */
 178:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 179:Middlewares/Third_Party/LwIP/src/core/mem.c **** /* in case C library malloc() needs extra protection,
 180:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * allow these defines to be overridden.
 181:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 182:Middlewares/Third_Party/LwIP/src/core/mem.c **** #ifndef mem_clib_free
 183:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define mem_clib_free free
 184:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 185:Middlewares/Third_Party/LwIP/src/core/mem.c **** #ifndef mem_clib_malloc
 186:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define mem_clib_malloc malloc
 187:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 188:Middlewares/Third_Party/LwIP/src/core/mem.c **** #ifndef mem_clib_calloc
 189:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define mem_clib_calloc calloc
 190:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 191:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 192:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_STATS && MEM_STATS
 193:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_LIBC_STATSHELPER_SIZE LWIP_MEM_ALIGN_SIZE(sizeof(mem_size_t))
 194:Middlewares/Third_Party/LwIP/src/core/mem.c **** #else
 195:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_LIBC_STATSHELPER_SIZE 0
 196:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 197:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 198:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 199:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Allocate a block of memory with a minimum of 'size' bytes.
 200:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 201:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param size is the minimum size of the requested block in bytes.
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 5


 202:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @return pointer to allocated memory or NULL if no free memory was found.
 203:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 204:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Note that the returned value must always be aligned (as defined by MEM_ALIGNMENT).
 205:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 206:Middlewares/Third_Party/LwIP/src/core/mem.c **** void *
 207:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_malloc(mem_size_t size)
 208:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 209:Middlewares/Third_Party/LwIP/src/core/mem.c ****   void *ret = mem_clib_malloc(size + MEM_LIBC_STATSHELPER_SIZE);
 210:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (ret == NULL) {
 211:Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC_LOCKED(err);
 212:Middlewares/Third_Party/LwIP/src/core/mem.c ****   } else {
 213:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("malloc() must return aligned memory", LWIP_MEM_ALIGN(ret) == ret);
 214:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_STATS && MEM_STATS
 215:Middlewares/Third_Party/LwIP/src/core/mem.c ****     *(mem_size_t *)ret = size;
 216:Middlewares/Third_Party/LwIP/src/core/mem.c ****     ret = (u8_t *)ret + MEM_LIBC_STATSHELPER_SIZE;
 217:Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC_USED_LOCKED(used, size);
 218:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 219:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 220:Middlewares/Third_Party/LwIP/src/core/mem.c ****   return ret;
 221:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 222:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 223:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** Put memory back on the heap
 224:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 225:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param rmem is the pointer as returned by a previous call to mem_malloc()
 226:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 227:Middlewares/Third_Party/LwIP/src/core/mem.c **** void
 228:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_free(void *rmem)
 229:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 230:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("rmem != NULL", (rmem != NULL));
 231:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("rmem == MEM_ALIGN(rmem)", (rmem == LWIP_MEM_ALIGN(rmem)));
 232:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_STATS && MEM_STATS
 233:Middlewares/Third_Party/LwIP/src/core/mem.c ****   rmem = (u8_t *)rmem - MEM_LIBC_STATSHELPER_SIZE;
 234:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_STATS_DEC_USED_LOCKED(used, *(mem_size_t *)rmem);
 235:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 236:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_clib_free(rmem);
 237:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 238:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 239:Middlewares/Third_Party/LwIP/src/core/mem.c **** #elif MEM_USE_POOLS
 240:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 241:Middlewares/Third_Party/LwIP/src/core/mem.c **** /* lwIP heap implemented with different sized pools */
 242:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 243:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 244:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Allocate memory: determine the smallest pool that is big enough
 245:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * to contain an element of 'size' and get an element from that pool.
 246:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 247:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param size the size in bytes of the memory needed
 248:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @return a pointer to the allocated memory or NULL if the pool is empty
 249:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 250:Middlewares/Third_Party/LwIP/src/core/mem.c **** void *
 251:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_malloc(mem_size_t size)
 252:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 253:Middlewares/Third_Party/LwIP/src/core/mem.c ****   void *ret;
 254:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct memp_malloc_helper *element = NULL;
 255:Middlewares/Third_Party/LwIP/src/core/mem.c ****   memp_t poolnr;
 256:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t required_size = size + LWIP_MEM_ALIGN_SIZE(sizeof(struct memp_malloc_helper));
 257:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 258:Middlewares/Third_Party/LwIP/src/core/mem.c ****   for (poolnr = MEMP_POOL_FIRST; poolnr <= MEMP_POOL_LAST; poolnr = (memp_t)(poolnr + 1)) {
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 6


 259:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* is this pool big enough to hold an element of the required size
 260:Middlewares/Third_Party/LwIP/src/core/mem.c ****        plus a struct memp_malloc_helper that saves the pool this element came from? */
 261:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (required_size <= memp_pools[poolnr]->size) {
 262:Middlewares/Third_Party/LwIP/src/core/mem.c ****       element = (struct memp_malloc_helper *)memp_malloc(poolnr);
 263:Middlewares/Third_Party/LwIP/src/core/mem.c ****       if (element == NULL) {
 264:Middlewares/Third_Party/LwIP/src/core/mem.c ****         /* No need to DEBUGF or ASSERT: This error is already taken care of in memp.c */
 265:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_USE_POOLS_TRY_BIGGER_POOL
 266:Middlewares/Third_Party/LwIP/src/core/mem.c ****         /** Try a bigger pool if this one is empty! */
 267:Middlewares/Third_Party/LwIP/src/core/mem.c ****         if (poolnr < MEMP_POOL_LAST) {
 268:Middlewares/Third_Party/LwIP/src/core/mem.c ****           continue;
 269:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 270:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_USE_POOLS_TRY_BIGGER_POOL */
 271:Middlewares/Third_Party/LwIP/src/core/mem.c ****         MEM_STATS_INC_LOCKED(err);
 272:Middlewares/Third_Party/LwIP/src/core/mem.c ****         return NULL;
 273:Middlewares/Third_Party/LwIP/src/core/mem.c ****       }
 274:Middlewares/Third_Party/LwIP/src/core/mem.c ****       break;
 275:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 276:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 277:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (poolnr > MEMP_POOL_LAST) {
 278:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("mem_malloc(): no pool is that big!", 0);
 279:Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC_LOCKED(err);
 280:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return NULL;
 281:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 282:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 283:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* save the pool number this element came from */
 284:Middlewares/Third_Party/LwIP/src/core/mem.c ****   element->poolnr = poolnr;
 285:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* and return a pointer to the memory directly after the struct memp_malloc_helper */
 286:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ret = (u8_t *)element + LWIP_MEM_ALIGN_SIZE(sizeof(struct memp_malloc_helper));
 287:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 288:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEMP_OVERFLOW_CHECK || (LWIP_STATS && MEM_STATS)
 289:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* truncating to u16_t is safe because struct memp_desc::size is u16_t */
 290:Middlewares/Third_Party/LwIP/src/core/mem.c ****   element->size = (u16_t)size;
 291:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_STATS_INC_USED_LOCKED(used, element->size);
 292:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEMP_OVERFLOW_CHECK || (LWIP_STATS && MEM_STATS) */
 293:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEMP_OVERFLOW_CHECK
 294:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize unused memory (diff between requested size and selected pool's size) */
 295:Middlewares/Third_Party/LwIP/src/core/mem.c ****   memset((u8_t *)ret + size, 0xcd, memp_pools[poolnr]->size - size);
 296:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEMP_OVERFLOW_CHECK */
 297:Middlewares/Third_Party/LwIP/src/core/mem.c ****   return ret;
 298:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 299:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 300:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 301:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Free memory previously allocated by mem_malloc. Loads the pool number
 302:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * and calls memp_free with that pool number to put the element back into
 303:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * its pool
 304:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 305:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param rmem the memory element to free
 306:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 307:Middlewares/Third_Party/LwIP/src/core/mem.c **** void
 308:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_free(void *rmem)
 309:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 310:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct memp_malloc_helper *hmem;
 311:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 312:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("rmem != NULL", (rmem != NULL));
 313:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("rmem == MEM_ALIGN(rmem)", (rmem == LWIP_MEM_ALIGN(rmem)));
 314:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 315:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* get the original struct memp_malloc_helper */
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 7


 316:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* cast through void* to get rid of alignment warnings */
 317:Middlewares/Third_Party/LwIP/src/core/mem.c ****   hmem = (struct memp_malloc_helper *)(void *)((u8_t *)rmem - LWIP_MEM_ALIGN_SIZE(sizeof(struct mem
 318:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 319:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("hmem != NULL", (hmem != NULL));
 320:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("hmem == MEM_ALIGN(hmem)", (hmem == LWIP_MEM_ALIGN(hmem)));
 321:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("hmem->poolnr < MEMP_MAX", (hmem->poolnr < MEMP_MAX));
 322:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 323:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_STATS_DEC_USED_LOCKED(used, hmem->size);
 324:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEMP_OVERFLOW_CHECK
 325:Middlewares/Third_Party/LwIP/src/core/mem.c ****   {
 326:Middlewares/Third_Party/LwIP/src/core/mem.c ****     u16_t i;
 327:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("MEM_USE_POOLS: invalid chunk size",
 328:Middlewares/Third_Party/LwIP/src/core/mem.c ****                 hmem->size <= memp_pools[hmem->poolnr]->size);
 329:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* check that unused memory remained untouched (diff between requested size and selected pool's
 330:Middlewares/Third_Party/LwIP/src/core/mem.c ****     for (i = hmem->size; i < memp_pools[hmem->poolnr]->size; i++) {
 331:Middlewares/Third_Party/LwIP/src/core/mem.c ****       u8_t data = *((u8_t *)rmem + i);
 332:Middlewares/Third_Party/LwIP/src/core/mem.c ****       LWIP_ASSERT("MEM_USE_POOLS: mem overflow detected", data == 0xcd);
 333:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 334:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 335:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEMP_OVERFLOW_CHECK */
 336:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 337:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* and put it in the pool we saved earlier */
 338:Middlewares/Third_Party/LwIP/src/core/mem.c ****   memp_free(hmem->poolnr, hmem);
 339:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 340:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 341:Middlewares/Third_Party/LwIP/src/core/mem.c **** #else /* MEM_USE_POOLS */
 342:Middlewares/Third_Party/LwIP/src/core/mem.c **** /* lwIP replacement for your libc malloc() */
 343:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 344:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 345:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * The heap is made up as a list of structs of this type.
 346:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * This does not have to be aligned since for getting its size,
 347:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * we only use the macro SIZEOF_STRUCT_MEM, which automatically aligns.
 348:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 349:Middlewares/Third_Party/LwIP/src/core/mem.c **** struct mem {
 350:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /** index (-> ram[next]) of the next struct */
 351:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t next;
 352:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /** index (-> ram[prev]) of the previous struct */
 353:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t prev;
 354:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /** 1: this area is used; 0: this area is unused */
 355:Middlewares/Third_Party/LwIP/src/core/mem.c ****   u8_t used;
 356:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK
 357:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /** this keeps track of the user allocation size for guard checks */
 358:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t user_size;
 359:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 360:Middlewares/Third_Party/LwIP/src/core/mem.c **** };
 361:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 362:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** All allocated blocks will be MIN_SIZE bytes big, at least!
 363:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * MIN_SIZE can be overridden to suit your needs. Smaller values save space,
 364:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * larger values could prevent too small blocks to fragment the RAM too much. */
 365:Middlewares/Third_Party/LwIP/src/core/mem.c **** #ifndef MIN_SIZE
 366:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MIN_SIZE             12
 367:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MIN_SIZE */
 368:Middlewares/Third_Party/LwIP/src/core/mem.c **** /* some alignment macros: we define them here for better source code layout */
 369:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MIN_SIZE_ALIGNED     LWIP_MEM_ALIGN_SIZE(MIN_SIZE)
 370:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define SIZEOF_STRUCT_MEM    LWIP_MEM_ALIGN_SIZE(sizeof(struct mem))
 371:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_SIZE_ALIGNED     LWIP_MEM_ALIGN_SIZE(MEM_SIZE)
 372:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 8


 373:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** If you want to relocate the heap to external memory, simply define
 374:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * LWIP_RAM_HEAP_POINTER as a void-pointer to that location.
 375:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * If so, make sure the memory at that location is big enough (see below on
 376:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * how that space is calculated). */
 377:Middlewares/Third_Party/LwIP/src/core/mem.c **** #ifndef LWIP_RAM_HEAP_POINTER
 378:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** the heap. we need one struct mem at the end and some room for alignment */
 379:Middlewares/Third_Party/LwIP/src/core/mem.c **** LWIP_DECLARE_MEMORY_ALIGNED(ram_heap, MEM_SIZE_ALIGNED + (2U * SIZEOF_STRUCT_MEM));
 380:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_RAM_HEAP_POINTER ram_heap
 381:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_RAM_HEAP_POINTER */
 382:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 383:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** pointer to the heap (ram_heap): for alignment, ram is now a pointer instead of an array */
 384:Middlewares/Third_Party/LwIP/src/core/mem.c **** static u8_t *ram;
 385:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** the last entry, always unused! */
 386:Middlewares/Third_Party/LwIP/src/core/mem.c **** static struct mem *ram_end;
 387:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 388:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** concurrent access protection */
 389:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if !NO_SYS
 390:Middlewares/Third_Party/LwIP/src/core/mem.c **** static sys_mutex_t mem_mutex;
 391:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 392:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 393:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 394:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 395:Middlewares/Third_Party/LwIP/src/core/mem.c **** static volatile u8_t mem_free_count;
 396:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 397:Middlewares/Third_Party/LwIP/src/core/mem.c **** /* Allow mem_free from other (e.g. interrupt) context */
 398:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_FREE_DECL_PROTECT()  SYS_ARCH_DECL_PROTECT(lev_free)
 399:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_FREE_PROTECT()       SYS_ARCH_PROTECT(lev_free)
 400:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_FREE_UNPROTECT()     SYS_ARCH_UNPROTECT(lev_free)
 401:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_ALLOC_DECL_PROTECT() SYS_ARCH_DECL_PROTECT(lev_alloc)
 402:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_ALLOC_PROTECT()      SYS_ARCH_PROTECT(lev_alloc)
 403:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_ALLOC_UNPROTECT()    SYS_ARCH_UNPROTECT(lev_alloc)
 404:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_LFREE_VOLATILE       volatile
 405:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 406:Middlewares/Third_Party/LwIP/src/core/mem.c **** #else /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 407:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 408:Middlewares/Third_Party/LwIP/src/core/mem.c **** /* Protect the heap only by using a mutex */
 409:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_FREE_DECL_PROTECT()
 410:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_FREE_PROTECT()    sys_mutex_lock(&mem_mutex)
 411:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_FREE_UNPROTECT()  sys_mutex_unlock(&mem_mutex)
 412:Middlewares/Third_Party/LwIP/src/core/mem.c **** /* mem_malloc is protected using mutex AND LWIP_MEM_ALLOC_PROTECT */
 413:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_ALLOC_DECL_PROTECT()
 414:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_ALLOC_PROTECT()
 415:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_ALLOC_UNPROTECT()
 416:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_LFREE_VOLATILE
 417:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 418:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 419:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 420:Middlewares/Third_Party/LwIP/src/core/mem.c **** /** pointer to the lowest free block, this is used for faster search */
 421:Middlewares/Third_Party/LwIP/src/core/mem.c **** static struct mem * LWIP_MEM_LFREE_VOLATILE lfree;
 422:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 423:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_SANITY_CHECK
 424:Middlewares/Third_Party/LwIP/src/core/mem.c **** static void mem_sanity(void);
 425:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_SANITY() mem_sanity()
 426:Middlewares/Third_Party/LwIP/src/core/mem.c **** #else
 427:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_SANITY()
 428:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 429:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 9


 430:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK
 431:Middlewares/Third_Party/LwIP/src/core/mem.c **** static void
 432:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_overflow_init_element(struct mem *mem, mem_size_t user_size)
 433:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 434:Middlewares/Third_Party/LwIP/src/core/mem.c ****   void *p = (u8_t *)mem + SIZEOF_STRUCT_MEM + MEM_SANITY_OFFSET;
 435:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->user_size = user_size;
 436:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_overflow_init_raw(p, user_size);
 437:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 438:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 439:Middlewares/Third_Party/LwIP/src/core/mem.c **** static void
 440:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_overflow_check_element(struct mem *mem)
 441:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 442:Middlewares/Third_Party/LwIP/src/core/mem.c ****   void *p = (u8_t *)mem + SIZEOF_STRUCT_MEM + MEM_SANITY_OFFSET;
 443:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_overflow_check_raw(p, mem->user_size, "heap", "");
 444:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 445:Middlewares/Third_Party/LwIP/src/core/mem.c **** #else /* MEM_OVERFLOW_CHECK */
 446:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define mem_overflow_init_element(mem, size)
 447:Middlewares/Third_Party/LwIP/src/core/mem.c **** #define mem_overflow_check_element(mem)
 448:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_OVERFLOW_CHECK */
 449:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 450:Middlewares/Third_Party/LwIP/src/core/mem.c **** static struct mem *
 451:Middlewares/Third_Party/LwIP/src/core/mem.c **** ptr_to_mem(mem_size_t ptr)
 452:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
  29              		.loc 1 452 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
 453:Middlewares/Third_Party/LwIP/src/core/mem.c ****   return (struct mem *)(void *)&ram[ptr];
  34              		.loc 1 453 3 view .LVU1
  35              		.loc 1 453 32 is_stmt 0 view .LVU2
  36 0000 014B     		ldr	r3, .L2
  37 0002 1B68     		ldr	r3, [r3]
 454:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
  38              		.loc 1 454 1 view .LVU3
  39 0004 1844     		add	r0, r0, r3
  40              	.LVL1:
  41              		.loc 1 454 1 view .LVU4
  42 0006 7047     		bx	lr
  43              	.L3:
  44              		.align	2
  45              	.L2:
  46 0008 00000000 		.word	.LANCHOR0
  47              		.cfi_endproc
  48              	.LFE30:
  50              		.section	.text.mem_to_ptr,"ax",%progbits
  51              		.align	1
  52              		.syntax unified
  53              		.thumb
  54              		.thumb_func
  55              		.fpu fpv5-sp-d16
  57              	mem_to_ptr:
  58              	.LVL2:
  59              	.LFB31:
 455:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 456:Middlewares/Third_Party/LwIP/src/core/mem.c **** static mem_size_t
 457:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_to_ptr(void *mem)
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 10


 458:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
  60              		.loc 1 458 1 is_stmt 1 view -0
  61              		.cfi_startproc
  62              		@ args = 0, pretend = 0, frame = 0
  63              		@ frame_needed = 0, uses_anonymous_args = 0
  64              		@ link register save eliminated.
 459:Middlewares/Third_Party/LwIP/src/core/mem.c ****   return (mem_size_t)((u8_t *)mem - ram);
  65              		.loc 1 459 3 view .LVU6
  66              		.loc 1 459 35 is_stmt 0 view .LVU7
  67 0000 024B     		ldr	r3, .L5
  68 0002 1B68     		ldr	r3, [r3]
  69 0004 C01A     		subs	r0, r0, r3
  70              	.LVL3:
 460:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
  71              		.loc 1 460 1 view .LVU8
  72 0006 80B2     		uxth	r0, r0
  73 0008 7047     		bx	lr
  74              	.L6:
  75 000a 00BF     		.align	2
  76              	.L5:
  77 000c 00000000 		.word	.LANCHOR0
  78              		.cfi_endproc
  79              	.LFE31:
  81              		.section	.text.mem_link_valid,"ax",%progbits
  82              		.align	1
  83              		.syntax unified
  84              		.thumb
  85              		.thumb_func
  86              		.fpu fpv5-sp-d16
  88              	mem_link_valid:
  89              	.LVL4:
  90              	.LFB34:
 461:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 462:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 463:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * "Plug holes" by combining adjacent empty struct mems.
 464:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * After this function is through, there should not exist
 465:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * one empty struct mem pointing to another empty struct mem.
 466:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 467:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param mem this points to a struct mem which just has been freed
 468:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @internal this function is only called by mem_free() and mem_trim()
 469:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 470:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * This assumes access to the heap is protected by the calling function
 471:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * already.
 472:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 473:Middlewares/Third_Party/LwIP/src/core/mem.c **** static void
 474:Middlewares/Third_Party/LwIP/src/core/mem.c **** plug_holes(struct mem *mem)
 475:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 476:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *nmem;
 477:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *pmem;
 478:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 479:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem >= ram", (u8_t *)mem >= ram);
 480:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem < ram_end", (u8_t *)mem < (u8_t *)ram_end);
 481:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem->used == 0", mem->used == 0);
 482:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 483:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* plug hole forward */
 484:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem->next <= MEM_SIZE_ALIGNED", mem->next <= MEM_SIZE_ALIGNED);
 485:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 11


 486:Middlewares/Third_Party/LwIP/src/core/mem.c ****   nmem = ptr_to_mem(mem->next);
 487:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (mem != nmem && nmem->used == 0 && (u8_t *)nmem != (u8_t *)ram_end) {
 488:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->next is unused and not end of ram, combine mem and mem->next */
 489:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (lfree == nmem) {
 490:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = mem;
 491:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 492:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem->next = nmem->next;
 493:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (nmem->next != MEM_SIZE_ALIGNED) {
 494:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(nmem->next)->prev = mem_to_ptr(mem);
 495:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 496:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 497:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 498:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* plug hole backward */
 499:Middlewares/Third_Party/LwIP/src/core/mem.c ****   pmem = ptr_to_mem(mem->prev);
 500:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (pmem != mem && pmem->used == 0) {
 501:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->prev is unused, combine mem and mem->prev */
 502:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (lfree == mem) {
 503:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = pmem;
 504:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 505:Middlewares/Third_Party/LwIP/src/core/mem.c ****     pmem->next = mem->next;
 506:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem->next != MEM_SIZE_ALIGNED) {
 507:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(mem->next)->prev = mem_to_ptr(pmem);
 508:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 509:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 510:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 511:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 512:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 513:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Zero the heap and initialize start, end and lowest-free
 514:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 515:Middlewares/Third_Party/LwIP/src/core/mem.c **** void
 516:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_init(void)
 517:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 518:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *mem;
 519:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 520:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("Sanity check alignment",
 521:Middlewares/Third_Party/LwIP/src/core/mem.c ****               (SIZEOF_STRUCT_MEM & (MEM_ALIGNMENT - 1)) == 0);
 522:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 523:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* align the heap */
 524:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram = (u8_t *)LWIP_MEM_ALIGN(LWIP_RAM_HEAP_POINTER);
 525:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize the start of the heap */
 526:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem = (struct mem *)(void *)ram;
 527:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->next = MEM_SIZE_ALIGNED;
 528:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->prev = 0;
 529:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->used = 0;
 530:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize the end of the heap */
 531:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end = ptr_to_mem(MEM_SIZE_ALIGNED);
 532:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->used = 1;
 533:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->next = MEM_SIZE_ALIGNED;
 534:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->prev = MEM_SIZE_ALIGNED;
 535:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_SANITY();
 536:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 537:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize the lowest-free pointer to the start of the heap */
 538:Middlewares/Third_Party/LwIP/src/core/mem.c ****   lfree = (struct mem *)(void *)ram;
 539:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 540:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_STATS_AVAIL(avail, MEM_SIZE_ALIGNED);
 541:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 542:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (sys_mutex_new(&mem_mutex) != ERR_OK) {
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 12


 543:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("failed to create mem_mutex", 0);
 544:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 545:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 546:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 547:Middlewares/Third_Party/LwIP/src/core/mem.c **** /* Check if a struct mem is correctly linked.
 548:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * If not, double-free is a possible reason.
 549:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 550:Middlewares/Third_Party/LwIP/src/core/mem.c **** static int
 551:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_link_valid(struct mem *mem)
 552:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
  91              		.loc 1 552 1 is_stmt 1 view -0
  92              		.cfi_startproc
  93              		@ args = 0, pretend = 0, frame = 0
  94              		@ frame_needed = 0, uses_anonymous_args = 0
  95              		.loc 1 552 1 is_stmt 0 view .LVU10
  96 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
  97              	.LCFI0:
  98              		.cfi_def_cfa_offset 24
  99              		.cfi_offset 3, -24
 100              		.cfi_offset 4, -20
 101              		.cfi_offset 5, -16
 102              		.cfi_offset 6, -12
 103              		.cfi_offset 7, -8
 104              		.cfi_offset 14, -4
 105 0002 0446     		mov	r4, r0
 553:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *nmem, *pmem;
 106              		.loc 1 553 3 is_stmt 1 view .LVU11
 554:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t rmem_idx;
 107              		.loc 1 554 3 view .LVU12
 555:Middlewares/Third_Party/LwIP/src/core/mem.c ****   rmem_idx = mem_to_ptr(mem);
 108              		.loc 1 555 3 view .LVU13
 109              		.loc 1 555 14 is_stmt 0 view .LVU14
 110 0004 FFF7FEFF 		bl	mem_to_ptr
 111              	.LVL5:
 112              		.loc 1 555 14 view .LVU15
 113 0008 0746     		mov	r7, r0
 114              	.LVL6:
 556:Middlewares/Third_Party/LwIP/src/core/mem.c ****   nmem = ptr_to_mem(mem->next);
 115              		.loc 1 556 3 is_stmt 1 view .LVU16
 116              		.loc 1 556 10 is_stmt 0 view .LVU17
 117 000a 2588     		ldrh	r5, [r4]
 118 000c 2846     		mov	r0, r5
 119 000e FFF7FEFF 		bl	ptr_to_mem
 120              	.LVL7:
 121 0012 0646     		mov	r6, r0
 122              	.LVL8:
 557:Middlewares/Third_Party/LwIP/src/core/mem.c ****   pmem = ptr_to_mem(mem->prev);
 123              		.loc 1 557 3 is_stmt 1 view .LVU18
 124              		.loc 1 557 10 is_stmt 0 view .LVU19
 125 0014 6488     		ldrh	r4, [r4, #2]
 126              	.LVL9:
 127              		.loc 1 557 10 view .LVU20
 128 0016 2046     		mov	r0, r4
 129              	.LVL10:
 130              		.loc 1 557 10 view .LVU21
 131 0018 FFF7FEFF 		bl	ptr_to_mem
 132              	.LVL11:
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 13


 558:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if ((mem->next > MEM_SIZE_ALIGNED) || (mem->prev > MEM_SIZE_ALIGNED) ||
 133              		.loc 1 558 3 is_stmt 1 view .LVU22
 134              		.loc 1 558 6 is_stmt 0 view .LVU23
 135 001c B5F5205F 		cmp	r5, #10240
 136 0020 10D8     		bhi	.L10
 137              		.loc 1 558 38 discriminator 1 view .LVU24
 138 0022 B4F5205F 		cmp	r4, #10240
 139 0026 0FD8     		bhi	.L11
 140              		.loc 1 558 72 discriminator 2 view .LVU25
 141 0028 BC42     		cmp	r4, r7
 142 002a 02D0     		beq	.L9
 559:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ((mem->prev != rmem_idx) && (pmem->next != rmem_idx)) ||
 143              		.loc 1 559 40 view .LVU26
 144 002c 0388     		ldrh	r3, [r0]
 145              		.loc 1 559 32 view .LVU27
 146 002e BB42     		cmp	r3, r7
 147 0030 0CD1     		bne	.L12
 148              	.L9:
 560:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ((nmem != ram_end) && (nmem->prev != rmem_idx))) {
 149              		.loc 1 560 14 discriminator 1 view .LVU28
 150 0032 094B     		ldr	r3, .L16
 151 0034 1B68     		ldr	r3, [r3]
 559:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ((mem->prev != rmem_idx) && (pmem->next != rmem_idx)) ||
 152              		.loc 1 559 61 discriminator 1 view .LVU29
 153 0036 B342     		cmp	r3, r6
 154 0038 0AD0     		beq	.L13
 155              		.loc 1 560 34 view .LVU30
 156 003a 7388     		ldrh	r3, [r6, #2]
 157              		.loc 1 560 26 view .LVU31
 158 003c BB42     		cmp	r3, r7
 159 003e 09D1     		bne	.L14
 561:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return 0;
 562:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 563:Middlewares/Third_Party/LwIP/src/core/mem.c ****   return 1;
 160              		.loc 1 563 10 view .LVU32
 161 0040 0120     		movs	r0, #1
 162              	.LVL12:
 163              		.loc 1 563 10 view .LVU33
 164 0042 00E0     		b	.L7
 165              	.LVL13:
 166              	.L10:
 561:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return 0;
 167              		.loc 1 561 12 view .LVU34
 168 0044 0020     		movs	r0, #0
 169              	.LVL14:
 170              	.L7:
 564:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 171              		.loc 1 564 1 view .LVU35
 172 0046 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 173              	.LVL15:
 174              	.L11:
 561:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return 0;
 175              		.loc 1 561 12 view .LVU36
 176 0048 0020     		movs	r0, #0
 177              	.LVL16:
 561:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return 0;
 178              		.loc 1 561 12 view .LVU37
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 14


 179 004a FCE7     		b	.L7
 180              	.LVL17:
 181              	.L12:
 561:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return 0;
 182              		.loc 1 561 12 view .LVU38
 183 004c 0020     		movs	r0, #0
 184              	.LVL18:
 561:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return 0;
 185              		.loc 1 561 12 view .LVU39
 186 004e FAE7     		b	.L7
 187              	.LVL19:
 188              	.L13:
 563:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 189              		.loc 1 563 10 view .LVU40
 190 0050 0120     		movs	r0, #1
 191              	.LVL20:
 563:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 192              		.loc 1 563 10 view .LVU41
 193 0052 F8E7     		b	.L7
 194              	.LVL21:
 195              	.L14:
 561:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return 0;
 196              		.loc 1 561 12 view .LVU42
 197 0054 0020     		movs	r0, #0
 198              	.LVL22:
 561:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return 0;
 199              		.loc 1 561 12 view .LVU43
 200 0056 F6E7     		b	.L7
 201              	.L17:
 202              		.align	2
 203              	.L16:
 204 0058 00000000 		.word	.LANCHOR1
 205              		.cfi_endproc
 206              	.LFE34:
 208              		.section	.rodata.plug_holes.str1.4,"aMS",%progbits,1
 209              		.align	2
 210              	.LC0:
 211 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/core/mem.c\000"
 211      6C657761 
 211      7265732F 
 211      54686972 
 211      645F5061 
 212              		.align	2
 213              	.LC1:
 214 002c 706C7567 		.ascii	"plug_holes: mem >= ram\000"
 214      5F686F6C 
 214      65733A20 
 214      6D656D20 
 214      3E3D2072 
 215 0043 00       		.align	2
 216              	.LC2:
 217 0044 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 217      7274696F 
 217      6E202225 
 217      73222066 
 217      61696C65 
 218              		.align	2
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 15


 219              	.LC3:
 220 006c 706C7567 		.ascii	"plug_holes: mem < ram_end\000"
 220      5F686F6C 
 220      65733A20 
 220      6D656D20 
 220      3C207261 
 221 0086 0000     		.align	2
 222              	.LC4:
 223 0088 706C7567 		.ascii	"plug_holes: mem->used == 0\000"
 223      5F686F6C 
 223      65733A20 
 223      6D656D2D 
 223      3E757365 
 224 00a3 00       		.align	2
 225              	.LC5:
 226 00a4 706C7567 		.ascii	"plug_holes: mem->next <= MEM_SIZE_ALIGNED\000"
 226      5F686F6C 
 226      65733A20 
 226      6D656D2D 
 226      3E6E6578 
 227              		.section	.text.plug_holes,"ax",%progbits
 228              		.align	1
 229              		.syntax unified
 230              		.thumb
 231              		.thumb_func
 232              		.fpu fpv5-sp-d16
 234              	plug_holes:
 235              	.LVL23:
 236              	.LFB32:
 475:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *nmem;
 237              		.loc 1 475 1 is_stmt 1 view -0
 238              		.cfi_startproc
 239              		@ args = 0, pretend = 0, frame = 0
 240              		@ frame_needed = 0, uses_anonymous_args = 0
 475:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *nmem;
 241              		.loc 1 475 1 is_stmt 0 view .LVU45
 242 0000 38B5     		push	{r3, r4, r5, lr}
 243              	.LCFI1:
 244              		.cfi_def_cfa_offset 16
 245              		.cfi_offset 3, -16
 246              		.cfi_offset 4, -12
 247              		.cfi_offset 5, -8
 248              		.cfi_offset 14, -4
 249 0002 0446     		mov	r4, r0
 476:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *pmem;
 250              		.loc 1 476 3 is_stmt 1 view .LVU46
 477:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 251              		.loc 1 477 3 view .LVU47
 479:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem < ram_end", (u8_t *)mem < (u8_t *)ram_end);
 252              		.loc 1 479 3 view .LVU48
 479:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem < ram_end", (u8_t *)mem < (u8_t *)ram_end);
 253              		.loc 1 479 3 view .LVU49
 254 0004 354B     		ldr	r3, .L34
 255 0006 1B68     		ldr	r3, [r3]
 256 0008 8342     		cmp	r3, r0
 257 000a 40D8     		bhi	.L28
 258              	.LVL24:
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 16


 259              	.L19:
 479:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem < ram_end", (u8_t *)mem < (u8_t *)ram_end);
 260              		.loc 1 479 3 discriminator 3 view .LVU50
 479:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem < ram_end", (u8_t *)mem < (u8_t *)ram_end);
 261              		.loc 1 479 3 discriminator 3 view .LVU51
 480:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem->used == 0", mem->used == 0);
 262              		.loc 1 480 3 discriminator 3 view .LVU52
 480:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem->used == 0", mem->used == 0);
 263              		.loc 1 480 3 discriminator 3 view .LVU53
 264 000c 344B     		ldr	r3, .L34+4
 265 000e 1B68     		ldr	r3, [r3]
 266 0010 A342     		cmp	r3, r4
 267 0012 44D9     		bls	.L29
 268              	.L20:
 480:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem->used == 0", mem->used == 0);
 269              		.loc 1 480 3 discriminator 3 view .LVU54
 480:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem->used == 0", mem->used == 0);
 270              		.loc 1 480 3 discriminator 3 view .LVU55
 481:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 271              		.loc 1 481 3 discriminator 3 view .LVU56
 481:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 272              		.loc 1 481 3 discriminator 3 view .LVU57
 273 0014 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 274 0016 002B     		cmp	r3, #0
 275 0018 49D1     		bne	.L30
 276              	.L21:
 481:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 277              		.loc 1 481 3 discriminator 3 view .LVU58
 481:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 278              		.loc 1 481 3 discriminator 3 view .LVU59
 484:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 279              		.loc 1 484 3 discriminator 3 view .LVU60
 484:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 280              		.loc 1 484 3 discriminator 3 view .LVU61
 281 001a 2388     		ldrh	r3, [r4]
 282 001c B3F5205F 		cmp	r3, #10240
 283 0020 4DD8     		bhi	.L31
 284              	.L22:
 484:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 285              		.loc 1 484 3 discriminator 3 view .LVU62
 484:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 286              		.loc 1 484 3 discriminator 3 view .LVU63
 486:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (mem != nmem && nmem->used == 0 && (u8_t *)nmem != (u8_t *)ram_end) {
 287              		.loc 1 486 3 discriminator 3 view .LVU64
 486:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (mem != nmem && nmem->used == 0 && (u8_t *)nmem != (u8_t *)ram_end) {
 288              		.loc 1 486 10 is_stmt 0 discriminator 3 view .LVU65
 289 0022 2088     		ldrh	r0, [r4]
 290 0024 FFF7FEFF 		bl	ptr_to_mem
 291              	.LVL25:
 487:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->next is unused and not end of ram, combine mem and mem->next */
 292              		.loc 1 487 3 is_stmt 1 discriminator 3 view .LVU66
 487:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->next is unused and not end of ram, combine mem and mem->next */
 293              		.loc 1 487 6 is_stmt 0 discriminator 3 view .LVU67
 294 0028 8442     		cmp	r4, r0
 295 002a 16D0     		beq	.L23
 487:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->next is unused and not end of ram, combine mem and mem->next */
 296              		.loc 1 487 26 discriminator 1 view .LVU68
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 17


 297 002c 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 487:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->next is unused and not end of ram, combine mem and mem->next */
 298              		.loc 1 487 19 discriminator 1 view .LVU69
 299 002e A3B9     		cbnz	r3, .L23
 487:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->next is unused and not end of ram, combine mem and mem->next */
 300              		.loc 1 487 57 discriminator 2 view .LVU70
 301 0030 2B4B     		ldr	r3, .L34+4
 302 0032 1B68     		ldr	r3, [r3]
 487:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->next is unused and not end of ram, combine mem and mem->next */
 303              		.loc 1 487 38 discriminator 2 view .LVU71
 304 0034 8342     		cmp	r3, r0
 305 0036 10D0     		beq	.L23
 489:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = mem;
 306              		.loc 1 489 5 is_stmt 1 view .LVU72
 489:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = mem;
 307              		.loc 1 489 15 is_stmt 0 view .LVU73
 308 0038 2A4B     		ldr	r3, .L34+8
 309 003a 1B68     		ldr	r3, [r3]
 489:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = mem;
 310              		.loc 1 489 8 view .LVU74
 311 003c 8342     		cmp	r3, r0
 312 003e 46D0     		beq	.L32
 313              	.L24:
 492:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (nmem->next != MEM_SIZE_ALIGNED) {
 314              		.loc 1 492 5 is_stmt 1 view .LVU75
 492:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (nmem->next != MEM_SIZE_ALIGNED) {
 315              		.loc 1 492 21 is_stmt 0 view .LVU76
 316 0040 0388     		ldrh	r3, [r0]
 492:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (nmem->next != MEM_SIZE_ALIGNED) {
 317              		.loc 1 492 15 view .LVU77
 318 0042 2380     		strh	r3, [r4]	@ movhi
 493:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(nmem->next)->prev = mem_to_ptr(mem);
 319              		.loc 1 493 5 is_stmt 1 view .LVU78
 493:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(nmem->next)->prev = mem_to_ptr(mem);
 320              		.loc 1 493 13 is_stmt 0 view .LVU79
 321 0044 0088     		ldrh	r0, [r0]
 322              	.LVL26:
 493:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(nmem->next)->prev = mem_to_ptr(mem);
 323              		.loc 1 493 8 view .LVU80
 324 0046 B0F5205F 		cmp	r0, #10240
 325 004a 06D0     		beq	.L23
 494:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 326              		.loc 1 494 7 is_stmt 1 view .LVU81
 327 004c FFF7FEFF 		bl	ptr_to_mem
 328              	.LVL27:
 329 0050 0546     		mov	r5, r0
 494:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 330              		.loc 1 494 38 is_stmt 0 view .LVU82
 331 0052 2046     		mov	r0, r4
 332 0054 FFF7FEFF 		bl	mem_to_ptr
 333              	.LVL28:
 494:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 334              		.loc 1 494 36 view .LVU83
 335 0058 6880     		strh	r0, [r5, #2]	@ movhi
 336              	.L23:
 499:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (pmem != mem && pmem->used == 0) {
 337              		.loc 1 499 3 is_stmt 1 view .LVU84
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 18


 499:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (pmem != mem && pmem->used == 0) {
 338              		.loc 1 499 10 is_stmt 0 view .LVU85
 339 005a 6088     		ldrh	r0, [r4, #2]
 340 005c FFF7FEFF 		bl	ptr_to_mem
 341              	.LVL29:
 342 0060 0546     		mov	r5, r0
 343              	.LVL30:
 500:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->prev is unused, combine mem and mem->prev */
 344              		.loc 1 500 3 is_stmt 1 view .LVU86
 500:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->prev is unused, combine mem and mem->prev */
 345              		.loc 1 500 6 is_stmt 0 view .LVU87
 346 0062 8442     		cmp	r4, r0
 347 0064 12D0     		beq	.L18
 500:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->prev is unused, combine mem and mem->prev */
 348              		.loc 1 500 26 discriminator 1 view .LVU88
 349 0066 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 500:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->prev is unused, combine mem and mem->prev */
 350              		.loc 1 500 19 discriminator 1 view .LVU89
 351 0068 83B9     		cbnz	r3, .L18
 502:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = pmem;
 352              		.loc 1 502 5 is_stmt 1 view .LVU90
 502:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = pmem;
 353              		.loc 1 502 15 is_stmt 0 view .LVU91
 354 006a 1E4B     		ldr	r3, .L34+8
 355 006c 1B68     		ldr	r3, [r3]
 502:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = pmem;
 356              		.loc 1 502 8 view .LVU92
 357 006e A342     		cmp	r3, r4
 358 0070 30D0     		beq	.L33
 359              	.L26:
 505:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem->next != MEM_SIZE_ALIGNED) {
 360              		.loc 1 505 5 is_stmt 1 view .LVU93
 505:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem->next != MEM_SIZE_ALIGNED) {
 361              		.loc 1 505 21 is_stmt 0 view .LVU94
 362 0072 2388     		ldrh	r3, [r4]
 505:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem->next != MEM_SIZE_ALIGNED) {
 363              		.loc 1 505 16 view .LVU95
 364 0074 2B80     		strh	r3, [r5]	@ movhi
 506:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(mem->next)->prev = mem_to_ptr(pmem);
 365              		.loc 1 506 5 is_stmt 1 view .LVU96
 506:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(mem->next)->prev = mem_to_ptr(pmem);
 366              		.loc 1 506 12 is_stmt 0 view .LVU97
 367 0076 2088     		ldrh	r0, [r4]
 368              	.LVL31:
 506:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(mem->next)->prev = mem_to_ptr(pmem);
 369              		.loc 1 506 8 view .LVU98
 370 0078 B0F5205F 		cmp	r0, #10240
 371 007c 06D0     		beq	.L18
 507:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 372              		.loc 1 507 7 is_stmt 1 view .LVU99
 373 007e FFF7FEFF 		bl	ptr_to_mem
 374              	.LVL32:
 375 0082 0446     		mov	r4, r0
 376              	.LVL33:
 507:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 377              		.loc 1 507 37 is_stmt 0 view .LVU100
 378 0084 2846     		mov	r0, r5
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 19


 379 0086 FFF7FEFF 		bl	mem_to_ptr
 380              	.LVL34:
 507:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 381              		.loc 1 507 35 view .LVU101
 382 008a 6080     		strh	r0, [r4, #2]	@ movhi
 383              	.L18:
 510:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 384              		.loc 1 510 1 view .LVU102
 385 008c 38BD     		pop	{r3, r4, r5, pc}
 386              	.LVL35:
 387              	.L28:
 479:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem < ram_end", (u8_t *)mem < (u8_t *)ram_end);
 388              		.loc 1 479 3 is_stmt 1 discriminator 1 view .LVU103
 479:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem < ram_end", (u8_t *)mem < (u8_t *)ram_end);
 389              		.loc 1 479 3 discriminator 1 view .LVU104
 390 008e 164B     		ldr	r3, .L34+12
 391 0090 40F2DF12 		movw	r2, #479
 392 0094 1549     		ldr	r1, .L34+16
 393 0096 1648     		ldr	r0, .L34+20
 394              	.LVL36:
 479:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem < ram_end", (u8_t *)mem < (u8_t *)ram_end);
 395              		.loc 1 479 3 is_stmt 0 discriminator 1 view .LVU105
 396 0098 FFF7FEFF 		bl	printf
 397              	.LVL37:
 398 009c B6E7     		b	.L19
 399              	.L29:
 480:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem->used == 0", mem->used == 0);
 400              		.loc 1 480 3 is_stmt 1 discriminator 1 view .LVU106
 480:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem->used == 0", mem->used == 0);
 401              		.loc 1 480 3 discriminator 1 view .LVU107
 402 009e 124B     		ldr	r3, .L34+12
 403 00a0 4FF4F072 		mov	r2, #480
 404 00a4 1349     		ldr	r1, .L34+24
 405 00a6 1248     		ldr	r0, .L34+20
 406 00a8 FFF7FEFF 		bl	printf
 407              	.LVL38:
 408 00ac B2E7     		b	.L20
 409              	.L30:
 481:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 410              		.loc 1 481 3 discriminator 1 view .LVU108
 481:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 411              		.loc 1 481 3 discriminator 1 view .LVU109
 412 00ae 0E4B     		ldr	r3, .L34+12
 413 00b0 40F2E112 		movw	r2, #481
 414 00b4 1049     		ldr	r1, .L34+28
 415 00b6 0E48     		ldr	r0, .L34+20
 416 00b8 FFF7FEFF 		bl	printf
 417              	.LVL39:
 418 00bc ADE7     		b	.L21
 419              	.L31:
 484:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 420              		.loc 1 484 3 discriminator 1 view .LVU110
 484:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 421              		.loc 1 484 3 discriminator 1 view .LVU111
 422 00be 0A4B     		ldr	r3, .L34+12
 423 00c0 4FF4F272 		mov	r2, #484
 424 00c4 0D49     		ldr	r1, .L34+32
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 20


 425 00c6 0A48     		ldr	r0, .L34+20
 426 00c8 FFF7FEFF 		bl	printf
 427              	.LVL40:
 428 00cc A9E7     		b	.L22
 429              	.LVL41:
 430              	.L32:
 490:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 431              		.loc 1 490 7 view .LVU112
 490:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 432              		.loc 1 490 13 is_stmt 0 view .LVU113
 433 00ce 054B     		ldr	r3, .L34+8
 434 00d0 1C60     		str	r4, [r3]
 435 00d2 B5E7     		b	.L24
 436              	.LVL42:
 437              	.L33:
 503:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 438              		.loc 1 503 7 is_stmt 1 view .LVU114
 503:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 439              		.loc 1 503 13 is_stmt 0 view .LVU115
 440 00d4 034B     		ldr	r3, .L34+8
 441 00d6 1860     		str	r0, [r3]
 442 00d8 CBE7     		b	.L26
 443              	.L35:
 444 00da 00BF     		.align	2
 445              	.L34:
 446 00dc 00000000 		.word	.LANCHOR0
 447 00e0 00000000 		.word	.LANCHOR1
 448 00e4 00000000 		.word	.LANCHOR2
 449 00e8 00000000 		.word	.LC0
 450 00ec 2C000000 		.word	.LC1
 451 00f0 44000000 		.word	.LC2
 452 00f4 6C000000 		.word	.LC3
 453 00f8 88000000 		.word	.LC4
 454 00fc A4000000 		.word	.LC5
 455              		.cfi_endproc
 456              	.LFE32:
 458              		.section	.rodata.mem_init.str1.4,"aMS",%progbits,1
 459              		.align	2
 460              	.LC6:
 461 0000 6661696C 		.ascii	"failed to create mem_mutex\000"
 461      65642074 
 461      6F206372 
 461      65617465 
 461      206D656D 
 462              		.section	.text.mem_init,"ax",%progbits
 463              		.align	1
 464              		.global	mem_init
 465              		.syntax unified
 466              		.thumb
 467              		.thumb_func
 468              		.fpu fpv5-sp-d16
 470              	mem_init:
 471              	.LFB33:
 517:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *mem;
 472              		.loc 1 517 1 is_stmt 1 view -0
 473              		.cfi_startproc
 474              		@ args = 0, pretend = 0, frame = 0
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 21


 475              		@ frame_needed = 0, uses_anonymous_args = 0
 476 0000 38B5     		push	{r3, r4, r5, lr}
 477              	.LCFI2:
 478              		.cfi_def_cfa_offset 16
 479              		.cfi_offset 3, -16
 480              		.cfi_offset 4, -12
 481              		.cfi_offset 5, -8
 482              		.cfi_offset 14, -4
 518:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 483              		.loc 1 518 3 view .LVU117
 520:Middlewares/Third_Party/LwIP/src/core/mem.c ****               (SIZEOF_STRUCT_MEM & (MEM_ALIGNMENT - 1)) == 0);
 484              		.loc 1 520 3 view .LVU118
 520:Middlewares/Third_Party/LwIP/src/core/mem.c ****               (SIZEOF_STRUCT_MEM & (MEM_ALIGNMENT - 1)) == 0);
 485              		.loc 1 520 3 view .LVU119
 520:Middlewares/Third_Party/LwIP/src/core/mem.c ****               (SIZEOF_STRUCT_MEM & (MEM_ALIGNMENT - 1)) == 0);
 486              		.loc 1 520 3 view .LVU120
 520:Middlewares/Third_Party/LwIP/src/core/mem.c ****               (SIZEOF_STRUCT_MEM & (MEM_ALIGNMENT - 1)) == 0);
 487              		.loc 1 520 3 view .LVU121
 524:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize the start of the heap */
 488              		.loc 1 524 3 view .LVU122
 524:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize the start of the heap */
 489              		.loc 1 524 17 is_stmt 0 view .LVU123
 490 0002 114C     		ldr	r4, .L40
 491 0004 24F00304 		bic	r4, r4, #3
 524:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize the start of the heap */
 492              		.loc 1 524 7 view .LVU124
 493 0008 104B     		ldr	r3, .L40+4
 494 000a 1C60     		str	r4, [r3]
 526:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->next = MEM_SIZE_ALIGNED;
 495              		.loc 1 526 3 is_stmt 1 view .LVU125
 496              	.LVL43:
 527:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->prev = 0;
 497              		.loc 1 527 3 view .LVU126
 527:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->prev = 0;
 498              		.loc 1 527 13 is_stmt 0 view .LVU127
 499 000c 4FF42055 		mov	r5, #10240
 500 0010 2580     		strh	r5, [r4]	@ movhi
 528:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->used = 0;
 501              		.loc 1 528 3 is_stmt 1 view .LVU128
 528:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->used = 0;
 502              		.loc 1 528 13 is_stmt 0 view .LVU129
 503 0012 0023     		movs	r3, #0
 504 0014 6380     		strh	r3, [r4, #2]	@ movhi
 529:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize the end of the heap */
 505              		.loc 1 529 3 is_stmt 1 view .LVU130
 529:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize the end of the heap */
 506              		.loc 1 529 13 is_stmt 0 view .LVU131
 507 0016 2371     		strb	r3, [r4, #4]
 531:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->used = 1;
 508              		.loc 1 531 3 is_stmt 1 view .LVU132
 531:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->used = 1;
 509              		.loc 1 531 13 is_stmt 0 view .LVU133
 510 0018 2846     		mov	r0, r5
 511 001a FFF7FEFF 		bl	ptr_to_mem
 512              	.LVL44:
 531:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->used = 1;
 513              		.loc 1 531 11 view .LVU134
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 22


 514 001e 0C4B     		ldr	r3, .L40+8
 515 0020 1860     		str	r0, [r3]
 532:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->next = MEM_SIZE_ALIGNED;
 516              		.loc 1 532 3 is_stmt 1 view .LVU135
 532:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->next = MEM_SIZE_ALIGNED;
 517              		.loc 1 532 17 is_stmt 0 view .LVU136
 518 0022 0123     		movs	r3, #1
 519 0024 0371     		strb	r3, [r0, #4]
 533:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->prev = MEM_SIZE_ALIGNED;
 520              		.loc 1 533 3 is_stmt 1 view .LVU137
 533:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->prev = MEM_SIZE_ALIGNED;
 521              		.loc 1 533 17 is_stmt 0 view .LVU138
 522 0026 0580     		strh	r5, [r0]	@ movhi
 534:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_SANITY();
 523              		.loc 1 534 3 is_stmt 1 view .LVU139
 534:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_SANITY();
 524              		.loc 1 534 17 is_stmt 0 view .LVU140
 525 0028 4580     		strh	r5, [r0, #2]	@ movhi
 535:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 526              		.loc 1 535 15 is_stmt 1 view .LVU141
 538:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 527              		.loc 1 538 3 view .LVU142
 538:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 528              		.loc 1 538 9 is_stmt 0 view .LVU143
 529 002a 0A4B     		ldr	r3, .L40+12
 530 002c 1C60     		str	r4, [r3]
 540:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 531              		.loc 1 540 43 is_stmt 1 view .LVU144
 542:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("failed to create mem_mutex", 0);
 532              		.loc 1 542 3 view .LVU145
 542:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("failed to create mem_mutex", 0);
 533              		.loc 1 542 7 is_stmt 0 view .LVU146
 534 002e 0A48     		ldr	r0, .L40+16
 535 0030 FFF7FEFF 		bl	sys_mutex_new
 536              	.LVL45:
 542:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("failed to create mem_mutex", 0);
 537              		.loc 1 542 6 view .LVU147
 538 0034 00B9     		cbnz	r0, .L39
 539              	.L36:
 545:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 540              		.loc 1 545 1 view .LVU148
 541 0036 38BD     		pop	{r3, r4, r5, pc}
 542              	.LVL46:
 543              	.L39:
 543:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 544              		.loc 1 543 5 is_stmt 1 discriminator 1 view .LVU149
 543:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 545              		.loc 1 543 5 discriminator 1 view .LVU150
 543:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 546              		.loc 1 543 5 discriminator 1 view .LVU151
 543:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 547              		.loc 1 543 5 discriminator 1 view .LVU152
 548 0038 084B     		ldr	r3, .L40+20
 549 003a 40F21F22 		movw	r2, #543
 550 003e 0849     		ldr	r1, .L40+24
 551 0040 0848     		ldr	r0, .L40+28
 552 0042 FFF7FEFF 		bl	printf
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 23


 553              	.LVL47:
 543:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 554              		.loc 1 543 5 discriminator 1 view .LVU153
 543:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 555              		.loc 1 543 5 discriminator 1 view .LVU154
 545:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 556              		.loc 1 545 1 is_stmt 0 discriminator 1 view .LVU155
 557 0046 F6E7     		b	.L36
 558              	.L41:
 559              		.align	2
 560              	.L40:
 561 0048 03000000 		.word	ram_heap+3
 562 004c 00000000 		.word	.LANCHOR0
 563 0050 00000000 		.word	.LANCHOR1
 564 0054 00000000 		.word	.LANCHOR2
 565 0058 00000000 		.word	.LANCHOR3
 566 005c 00000000 		.word	.LC0
 567 0060 00000000 		.word	.LC6
 568 0064 44000000 		.word	.LC2
 569              		.cfi_endproc
 570              	.LFE33:
 572              		.section	.rodata.mem_free.str1.4,"aMS",%progbits,1
 573              		.align	2
 574              	.LC7:
 575 0000 6D656D5F 		.ascii	"mem_free: sanity check alignment\000"
 575      66726565 
 575      3A207361 
 575      6E697479 
 575      20636865 
 576 0021 000000   		.align	2
 577              	.LC8:
 578 0024 6D656D5F 		.ascii	"mem_free: illegal memory\000"
 578      66726565 
 578      3A20696C 
 578      6C656761 
 578      6C206D65 
 579 003d 000000   		.align	2
 580              	.LC9:
 581 0040 6D656D5F 		.ascii	"mem_free: illegal memory: double free\000"
 581      66726565 
 581      3A20696C 
 581      6C656761 
 581      6C206D65 
 582 0066 0000     		.align	2
 583              	.LC10:
 584 0068 6D656D5F 		.ascii	"mem_free: illegal memory: non-linked: double free\000"
 584      66726565 
 584      3A20696C 
 584      6C656761 
 584      6C206D65 
 585              		.section	.text.mem_free,"ax",%progbits
 586              		.align	1
 587              		.global	mem_free
 588              		.syntax unified
 589              		.thumb
 590              		.thumb_func
 591              		.fpu fpv5-sp-d16
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 24


 593              	mem_free:
 594              	.LVL48:
 595              	.LFB35:
 565:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 566:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_SANITY_CHECK
 567:Middlewares/Third_Party/LwIP/src/core/mem.c **** static void
 568:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_sanity(void)
 569:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 570:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *mem;
 571:Middlewares/Third_Party/LwIP/src/core/mem.c ****   u8_t last_used;
 572:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 573:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* begin with first element here */
 574:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem = (struct mem *)ram;
 575:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("heap element used valid", (mem->used == 0) || (mem->used == 1));
 576:Middlewares/Third_Party/LwIP/src/core/mem.c ****   last_used = mem->used;
 577:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("heap element prev ptr valid", mem->prev == 0);
 578:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("heap element next ptr valid", mem->next <= MEM_SIZE_ALIGNED);
 579:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("heap element next ptr aligned", LWIP_MEM_ALIGN(ptr_to_mem(mem->next) == ptr_to_mem(m
 580:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 581:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* check all elements before the end of the heap */
 582:Middlewares/Third_Party/LwIP/src/core/mem.c ****   for (mem = ptr_to_mem(mem->next);
 583:Middlewares/Third_Party/LwIP/src/core/mem.c ****        ((u8_t *)mem > ram) && (mem < ram_end);
 584:Middlewares/Third_Party/LwIP/src/core/mem.c ****        mem = ptr_to_mem(mem->next)) {
 585:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("heap element aligned", LWIP_MEM_ALIGN(mem) == mem);
 586:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("heap element prev ptr valid", mem->prev <= MEM_SIZE_ALIGNED);
 587:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("heap element next ptr valid", mem->next <= MEM_SIZE_ALIGNED);
 588:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("heap element prev ptr aligned", LWIP_MEM_ALIGN(ptr_to_mem(mem->prev) == ptr_to_mem
 589:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("heap element next ptr aligned", LWIP_MEM_ALIGN(ptr_to_mem(mem->next) == ptr_to_mem
 590:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 591:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (last_used == 0) {
 592:Middlewares/Third_Party/LwIP/src/core/mem.c ****       /* 2 unused elements in a row? */
 593:Middlewares/Third_Party/LwIP/src/core/mem.c ****       LWIP_ASSERT("heap element unused?", mem->used == 1);
 594:Middlewares/Third_Party/LwIP/src/core/mem.c ****     } else {
 595:Middlewares/Third_Party/LwIP/src/core/mem.c ****       LWIP_ASSERT("heap element unused member", (mem->used == 0) || (mem->used == 1));
 596:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 597:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 598:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("heap element link valid", mem_link_valid(mem));
 599:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 600:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* used/unused altering */
 601:Middlewares/Third_Party/LwIP/src/core/mem.c ****     last_used = mem->used;
 602:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 603:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("heap end ptr sanity", mem == ptr_to_mem(MEM_SIZE_ALIGNED));
 604:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("heap element used valid", mem->used == 1);
 605:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("heap element prev ptr valid", mem->prev == MEM_SIZE_ALIGNED);
 606:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("heap element next ptr valid", mem->next == MEM_SIZE_ALIGNED);
 607:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 608:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_SANITY_CHECK */
 609:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 610:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 611:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Put a struct mem back on the heap
 612:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 613:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param rmem is the data portion of a struct mem as returned by a previous
 614:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *             call to mem_malloc()
 615:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 616:Middlewares/Third_Party/LwIP/src/core/mem.c **** void
 617:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_free(void *rmem)
 618:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 25


 596              		.loc 1 618 1 is_stmt 1 view -0
 597              		.cfi_startproc
 598              		@ args = 0, pretend = 0, frame = 0
 599              		@ frame_needed = 0, uses_anonymous_args = 0
 619:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *mem;
 600              		.loc 1 619 3 view .LVU157
 620:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_FREE_DECL_PROTECT();
 601              		.loc 1 620 31 view .LVU158
 621:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 622:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (rmem == NULL) {
 602              		.loc 1 622 3 view .LVU159
 603              		.loc 1 622 6 is_stmt 0 view .LVU160
 604 0000 0028     		cmp	r0, #0
 605 0002 60D0     		beq	.L51
 618:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *mem;
 606              		.loc 1 618 1 view .LVU161
 607 0004 38B5     		push	{r3, r4, r5, lr}
 608              	.LCFI3:
 609              		.cfi_def_cfa_offset 16
 610              		.cfi_offset 3, -16
 611              		.cfi_offset 4, -12
 612              		.cfi_offset 5, -8
 613              		.cfi_offset 14, -4
 614 0006 0446     		mov	r4, r0
 623:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_TRACE | LWIP_DBG_LEVEL_SERIOUS, ("mem_free(p == NULL) was call
 624:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 625:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 626:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if ((((mem_ptr_t)rmem) & (MEM_ALIGNMENT - 1)) != 0) {
 615              		.loc 1 626 3 is_stmt 1 view .LVU162
 616              		.loc 1 626 6 is_stmt 0 view .LVU163
 617 0008 10F0030F 		tst	r0, #3
 618 000c 17D1     		bne	.L54
 627:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_ILLEGAL_FREE("mem_free: sanity check alignment");
 628:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: sanity check alignment\n"));
 629:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 630:Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC_LOCKED(illegal);
 631:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 632:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 633:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 634:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* Get the corresponding struct mem: */
 635:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* cast through void* to get rid of alignment warnings */
 636:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem = (struct mem *)(void *)((u8_t *)rmem - (SIZEOF_STRUCT_MEM + MEM_SANITY_OFFSET));
 619              		.loc 1 636 3 is_stmt 1 view .LVU164
 620              		.loc 1 636 7 is_stmt 0 view .LVU165
 621 000e A0F10805 		sub	r5, r0, #8
 622              	.LVL49:
 637:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 638:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if ((u8_t *)mem < ram || (u8_t *)rmem + MIN_SIZE_ALIGNED > (u8_t *)ram_end) {
 623              		.loc 1 638 3 is_stmt 1 view .LVU166
 624              		.loc 1 638 19 is_stmt 0 view .LVU167
 625 0012 2D4B     		ldr	r3, .L57
 626 0014 1B68     		ldr	r3, [r3]
 627              		.loc 1 638 6 view .LVU168
 628 0016 AB42     		cmp	r3, r5
 629 0018 05D8     		bhi	.L45
 630              		.loc 1 638 41 discriminator 1 view .LVU169
 631 001a 00F10C03 		add	r3, r0, #12
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 26


 632              		.loc 1 638 62 discriminator 1 view .LVU170
 633 001e 2B4A     		ldr	r2, .L57+4
 634 0020 1268     		ldr	r2, [r2]
 635              		.loc 1 638 25 discriminator 1 view .LVU171
 636 0022 9342     		cmp	r3, r2
 637 0024 17D9     		bls	.L46
 638              	.L45:
 639:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_ILLEGAL_FREE("mem_free: illegal memory");
 639              		.loc 1 639 5 is_stmt 1 discriminator 1 view .LVU172
 640              		.loc 1 639 5 discriminator 1 view .LVU173
 641              		.loc 1 639 5 discriminator 1 view .LVU174
 642              		.loc 1 639 5 discriminator 1 view .LVU175
 643 0026 2A4B     		ldr	r3, .L57+8
 644 0028 40F27F22 		movw	r2, #639
 645 002c 2949     		ldr	r1, .L57+12
 646 002e 2A48     		ldr	r0, .L57+16
 647              	.LVL50:
 648              		.loc 1 639 5 is_stmt 0 discriminator 1 view .LVU176
 649 0030 FFF7FEFF 		bl	printf
 650              	.LVL51:
 651              		.loc 1 639 5 is_stmt 1 discriminator 1 view .LVU177
 652              		.loc 1 639 5 discriminator 1 view .LVU178
 640:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: illegal memory\n"));
 653              		.loc 1 640 83 discriminator 1 view .LVU179
 641:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 642:Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC_LOCKED(illegal);
 654              		.loc 1 642 5 discriminator 1 view .LVU180
 655              	.LBB2:
 656              		.loc 1 642 5 discriminator 1 view .LVU181
 657              		.loc 1 642 5 discriminator 1 view .LVU182
 658 0034 FFF7FEFF 		bl	sys_arch_protect
 659              	.LVL52:
 660              		.loc 1 642 5 discriminator 1 view .LVU183
 661              		.loc 1 642 5 discriminator 1 view .LVU184
 662 0038 FFF7FEFF 		bl	sys_arch_unprotect
 663              	.LVL53:
 664              		.loc 1 642 5 is_stmt 0 discriminator 1 view .LVU185
 665              	.LBE2:
 666              		.loc 1 642 5 is_stmt 1 discriminator 1 view .LVU186
 643:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 667              		.loc 1 643 5 discriminator 1 view .LVU187
 668              	.L42:
 644:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 645:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK
 646:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_overflow_check_element(mem);
 647:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 648:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* protect the heap from concurrent access */
 649:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_FREE_PROTECT();
 650:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* mem has to be in a used state */
 651:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (!mem->used) {
 652:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_ILLEGAL_FREE("mem_free: illegal memory: double free");
 653:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 654:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: illegal memory: double free?\n"));
 655:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 656:Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC_LOCKED(illegal);
 657:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 658:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 27


 659:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 660:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (!mem_link_valid(mem)) {
 661:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_ILLEGAL_FREE("mem_free: illegal memory: non-linked: double free");
 662:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 663:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: illegal memory: non-linked: double f
 664:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 665:Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC_LOCKED(illegal);
 666:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 667:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 668:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 669:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* mem is now unused. */
 670:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->used = 0;
 671:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 672:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (mem < lfree) {
 673:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* the newly freed struct is now the lowest */
 674:Middlewares/Third_Party/LwIP/src/core/mem.c ****     lfree = mem;
 675:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 676:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 677:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_STATS_DEC_USED(used, mem->next - (mem_size_t)(((u8_t *)mem - ram)));
 678:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 679:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* finally, see if prev or next are free also */
 680:Middlewares/Third_Party/LwIP/src/core/mem.c ****   plug_holes(mem);
 681:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_SANITY();
 682:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 683:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_free_count = 1;
 684:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 685:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_FREE_UNPROTECT();
 686:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 669              		.loc 1 686 1 is_stmt 0 view .LVU188
 670 003c 38BD     		pop	{r3, r4, r5, pc}
 671              	.LVL54:
 672              	.L54:
 627:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: sanity check alignment\n"));
 673              		.loc 1 627 5 is_stmt 1 discriminator 1 view .LVU189
 627:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: sanity check alignment\n"));
 674              		.loc 1 627 5 discriminator 1 view .LVU190
 627:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: sanity check alignment\n"));
 675              		.loc 1 627 5 discriminator 1 view .LVU191
 627:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: sanity check alignment\n"));
 676              		.loc 1 627 5 discriminator 1 view .LVU192
 677 003e 244B     		ldr	r3, .L57+8
 678 0040 40F27322 		movw	r2, #627
 679 0044 2549     		ldr	r1, .L57+20
 680 0046 2448     		ldr	r0, .L57+16
 681              	.LVL55:
 627:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: sanity check alignment\n"));
 682              		.loc 1 627 5 is_stmt 0 discriminator 1 view .LVU193
 683 0048 FFF7FEFF 		bl	printf
 684              	.LVL56:
 627:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: sanity check alignment\n"));
 685              		.loc 1 627 5 is_stmt 1 discriminator 1 view .LVU194
 627:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: sanity check alignment\n"));
 686              		.loc 1 627 5 discriminator 1 view .LVU195
 628:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 687              		.loc 1 628 91 discriminator 1 view .LVU196
 630:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 688              		.loc 1 630 5 discriminator 1 view .LVU197
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 28


 689              	.LBB3:
 630:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 690              		.loc 1 630 5 discriminator 1 view .LVU198
 630:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 691              		.loc 1 630 5 discriminator 1 view .LVU199
 692 004c FFF7FEFF 		bl	sys_arch_protect
 693              	.LVL57:
 630:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 694              		.loc 1 630 5 discriminator 1 view .LVU200
 630:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 695              		.loc 1 630 5 discriminator 1 view .LVU201
 696 0050 FFF7FEFF 		bl	sys_arch_unprotect
 697              	.LVL58:
 630:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 698              		.loc 1 630 5 is_stmt 0 discriminator 1 view .LVU202
 699              	.LBE3:
 630:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 700              		.loc 1 630 5 is_stmt 1 discriminator 1 view .LVU203
 631:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 701              		.loc 1 631 5 discriminator 1 view .LVU204
 702 0054 F2E7     		b	.L42
 703              	.LVL59:
 704              	.L46:
 649:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* mem has to be in a used state */
 705              		.loc 1 649 3 view .LVU205
 706 0056 2248     		ldr	r0, .L57+24
 707              	.LVL60:
 649:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* mem has to be in a used state */
 708              		.loc 1 649 3 is_stmt 0 view .LVU206
 709 0058 FFF7FEFF 		bl	sys_mutex_lock
 710              	.LVL61:
 651:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_ILLEGAL_FREE("mem_free: illegal memory: double free");
 711              		.loc 1 651 3 is_stmt 1 view .LVU207
 651:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_ILLEGAL_FREE("mem_free: illegal memory: double free");
 712              		.loc 1 651 11 is_stmt 0 view .LVU208
 713 005c 14F8043C 		ldrb	r3, [r4, #-4]	@ zero_extendqisi2
 651:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_ILLEGAL_FREE("mem_free: illegal memory: double free");
 714              		.loc 1 651 6 view .LVU209
 715 0060 9BB1     		cbz	r3, .L55
 660:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_ILLEGAL_FREE("mem_free: illegal memory: non-linked: double free");
 716              		.loc 1 660 3 is_stmt 1 view .LVU210
 660:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_ILLEGAL_FREE("mem_free: illegal memory: non-linked: double free");
 717              		.loc 1 660 8 is_stmt 0 view .LVU211
 718 0062 2846     		mov	r0, r5
 719 0064 FFF7FEFF 		bl	mem_link_valid
 720              	.LVL62:
 660:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_ILLEGAL_FREE("mem_free: illegal memory: non-linked: double free");
 721              		.loc 1 660 6 view .LVU212
 722 0068 F0B1     		cbz	r0, .L56
 670:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 723              		.loc 1 670 3 is_stmt 1 view .LVU213
 670:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 724              		.loc 1 670 13 is_stmt 0 view .LVU214
 725 006a 0023     		movs	r3, #0
 726 006c 04F8043C 		strb	r3, [r4, #-4]
 672:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* the newly freed struct is now the lowest */
 727              		.loc 1 672 3 is_stmt 1 view .LVU215
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 29


 672:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* the newly freed struct is now the lowest */
 728              		.loc 1 672 11 is_stmt 0 view .LVU216
 729 0070 1C4B     		ldr	r3, .L57+28
 730 0072 1B68     		ldr	r3, [r3]
 672:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* the newly freed struct is now the lowest */
 731              		.loc 1 672 6 view .LVU217
 732 0074 AB42     		cmp	r3, r5
 733 0076 01D9     		bls	.L49
 674:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 734              		.loc 1 674 5 is_stmt 1 view .LVU218
 674:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 735              		.loc 1 674 11 is_stmt 0 view .LVU219
 736 0078 1A4B     		ldr	r3, .L57+28
 737 007a 1D60     		str	r5, [r3]
 738              	.L49:
 677:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 739              		.loc 1 677 74 is_stmt 1 view .LVU220
 680:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_SANITY();
 740              		.loc 1 680 3 view .LVU221
 741 007c 2846     		mov	r0, r5
 742 007e FFF7FEFF 		bl	plug_holes
 743              	.LVL63:
 681:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 744              		.loc 1 681 15 view .LVU222
 685:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 745              		.loc 1 685 3 view .LVU223
 746 0082 1748     		ldr	r0, .L57+24
 747 0084 FFF7FEFF 		bl	sys_mutex_unlock
 748              	.LVL64:
 749 0088 D8E7     		b	.L42
 750              	.L55:
 652:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 751              		.loc 1 652 5 discriminator 1 view .LVU224
 652:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 752              		.loc 1 652 5 discriminator 1 view .LVU225
 652:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 753              		.loc 1 652 5 discriminator 1 view .LVU226
 652:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 754              		.loc 1 652 5 discriminator 1 view .LVU227
 755 008a 114B     		ldr	r3, .L57+8
 756 008c 4FF42372 		mov	r2, #652
 757 0090 1549     		ldr	r1, .L57+32
 758 0092 1148     		ldr	r0, .L57+16
 759 0094 FFF7FEFF 		bl	printf
 760              	.LVL65:
 652:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 761              		.loc 1 652 5 discriminator 1 view .LVU228
 652:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 762              		.loc 1 652 5 discriminator 1 view .LVU229
 653:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: illegal memory: double free?\n"));
 763              		.loc 1 653 5 discriminator 1 view .LVU230
 764 0098 1148     		ldr	r0, .L57+24
 765 009a FFF7FEFF 		bl	sys_mutex_unlock
 766              	.LVL66:
 654:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 767              		.loc 1 654 97 discriminator 1 view .LVU231
 656:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 30


 768              		.loc 1 656 5 discriminator 1 view .LVU232
 769              	.LBB4:
 656:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 770              		.loc 1 656 5 discriminator 1 view .LVU233
 656:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 771              		.loc 1 656 5 discriminator 1 view .LVU234
 772 009e FFF7FEFF 		bl	sys_arch_protect
 773              	.LVL67:
 656:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 774              		.loc 1 656 5 discriminator 1 view .LVU235
 656:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 775              		.loc 1 656 5 discriminator 1 view .LVU236
 776 00a2 FFF7FEFF 		bl	sys_arch_unprotect
 777              	.LVL68:
 656:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 778              		.loc 1 656 5 is_stmt 0 discriminator 1 view .LVU237
 779              	.LBE4:
 656:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 780              		.loc 1 656 5 is_stmt 1 discriminator 1 view .LVU238
 657:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 781              		.loc 1 657 5 discriminator 1 view .LVU239
 782 00a6 C9E7     		b	.L42
 783              	.L56:
 661:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 784              		.loc 1 661 5 discriminator 1 view .LVU240
 661:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 785              		.loc 1 661 5 discriminator 1 view .LVU241
 661:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 786              		.loc 1 661 5 discriminator 1 view .LVU242
 661:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 787              		.loc 1 661 5 discriminator 1 view .LVU243
 788 00a8 094B     		ldr	r3, .L57+8
 789 00aa 40F29522 		movw	r2, #661
 790 00ae 0F49     		ldr	r1, .L57+36
 791 00b0 0948     		ldr	r0, .L57+16
 792 00b2 FFF7FEFF 		bl	printf
 793              	.LVL69:
 661:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 794              		.loc 1 661 5 discriminator 1 view .LVU244
 661:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 795              		.loc 1 661 5 discriminator 1 view .LVU245
 662:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: illegal memory: non-linked: double f
 796              		.loc 1 662 5 discriminator 1 view .LVU246
 797 00b6 0A48     		ldr	r0, .L57+24
 798 00b8 FFF7FEFF 		bl	sys_mutex_unlock
 799              	.LVL70:
 663:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 800              		.loc 1 663 109 discriminator 1 view .LVU247
 665:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 801              		.loc 1 665 5 discriminator 1 view .LVU248
 802              	.LBB5:
 665:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 803              		.loc 1 665 5 discriminator 1 view .LVU249
 665:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 804              		.loc 1 665 5 discriminator 1 view .LVU250
 805 00bc FFF7FEFF 		bl	sys_arch_protect
 806              	.LVL71:
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 31


 665:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 807              		.loc 1 665 5 discriminator 1 view .LVU251
 665:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 808              		.loc 1 665 5 discriminator 1 view .LVU252
 809 00c0 FFF7FEFF 		bl	sys_arch_unprotect
 810              	.LVL72:
 665:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 811              		.loc 1 665 5 is_stmt 0 discriminator 1 view .LVU253
 812              	.LBE5:
 665:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 813              		.loc 1 665 5 is_stmt 1 discriminator 1 view .LVU254
 666:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 814              		.loc 1 666 5 discriminator 1 view .LVU255
 815 00c4 BAE7     		b	.L42
 816              	.LVL73:
 817              	.L51:
 818              	.LCFI4:
 819              		.cfi_def_cfa_offset 0
 820              		.cfi_restore 3
 821              		.cfi_restore 4
 822              		.cfi_restore 5
 823              		.cfi_restore 14
 666:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 824              		.loc 1 666 5 is_stmt 0 discriminator 1 view .LVU256
 825 00c6 7047     		bx	lr
 826              	.L58:
 827              		.align	2
 828              	.L57:
 829 00c8 00000000 		.word	.LANCHOR0
 830 00cc 00000000 		.word	.LANCHOR1
 831 00d0 00000000 		.word	.LC0
 832 00d4 24000000 		.word	.LC8
 833 00d8 44000000 		.word	.LC2
 834 00dc 00000000 		.word	.LC7
 835 00e0 00000000 		.word	.LANCHOR3
 836 00e4 00000000 		.word	.LANCHOR2
 837 00e8 40000000 		.word	.LC9
 838 00ec 68000000 		.word	.LC10
 839              		.cfi_endproc
 840              	.LFE35:
 842              		.section	.rodata.mem_trim.str1.4,"aMS",%progbits,1
 843              		.align	2
 844              	.LC11:
 845 0000 6D656D5F 		.ascii	"mem_trim: legal memory\000"
 845      7472696D 
 845      3A206C65 
 845      67616C20 
 845      6D656D6F 
 846 0017 00       		.align	2
 847              	.LC12:
 848 0018 6D656D5F 		.ascii	"mem_trim can only shrink memory\000"
 848      7472696D 
 848      2063616E 
 848      206F6E6C 
 848      79207368 
 849              		.align	2
 850              	.LC13:
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 32


 851 0038 696E7661 		.ascii	"invalid next ptr\000"
 851      6C696420 
 851      6E657874 
 851      20707472 
 851      00
 852              		.section	.text.mem_trim,"ax",%progbits
 853              		.align	1
 854              		.global	mem_trim
 855              		.syntax unified
 856              		.thumb
 857              		.thumb_func
 858              		.fpu fpv5-sp-d16
 860              	mem_trim:
 861              	.LVL74:
 862              	.LFB36:
 687:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 688:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 689:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Shrink memory returned by mem_malloc().
 690:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 691:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param rmem pointer to memory allocated by mem_malloc the is to be shrinked
 692:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param new_size required size after shrinking (needs to be smaller than or
 693:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *                equal to the previous size)
 694:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @return for compatibility reasons: is always == rmem, at the moment
 695:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *         or NULL if newsize is > old size, in which case rmem is NOT touched
 696:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *         or freed!
 697:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 698:Middlewares/Third_Party/LwIP/src/core/mem.c **** void *
 699:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_trim(void *rmem, mem_size_t new_size)
 700:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 863              		.loc 1 700 1 is_stmt 1 view -0
 864              		.cfi_startproc
 865              		@ args = 0, pretend = 0, frame = 0
 866              		@ frame_needed = 0, uses_anonymous_args = 0
 867              		.loc 1 700 1 is_stmt 0 view .LVU258
 868 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 869              	.LCFI5:
 870              		.cfi_def_cfa_offset 32
 871              		.cfi_offset 3, -32
 872              		.cfi_offset 4, -28
 873              		.cfi_offset 5, -24
 874              		.cfi_offset 6, -20
 875              		.cfi_offset 7, -16
 876              		.cfi_offset 8, -12
 877              		.cfi_offset 9, -8
 878              		.cfi_offset 14, -4
 879 0004 0546     		mov	r5, r0
 701:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t size, newsize;
 880              		.loc 1 701 3 is_stmt 1 view .LVU259
 702:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t ptr, ptr2;
 881              		.loc 1 702 3 view .LVU260
 703:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *mem, *mem2;
 882              		.loc 1 703 3 view .LVU261
 704:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* use the FREE_PROTECT here: it protects with sem OR SYS_ARCH_PROTECT */
 705:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_FREE_DECL_PROTECT();
 883              		.loc 1 705 31 view .LVU262
 706:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 707:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* Expand the size of the allocated memory region so that we can
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 33


 708:Middlewares/Third_Party/LwIP/src/core/mem.c ****      adjust for alignment. */
 709:Middlewares/Third_Party/LwIP/src/core/mem.c ****   newsize = (mem_size_t)LWIP_MEM_ALIGN_SIZE(new_size);
 884              		.loc 1 709 3 view .LVU263
 885              		.loc 1 709 25 is_stmt 0 view .LVU264
 886 0006 CC1C     		adds	r4, r1, #3
 887 0008 A4B2     		uxth	r4, r4
 888              		.loc 1 709 11 view .LVU265
 889 000a 24F00304 		bic	r4, r4, #3
 890 000e A4B2     		uxth	r4, r4
 891              	.LVL75:
 710:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (newsize < MIN_SIZE_ALIGNED) {
 892              		.loc 1 710 3 is_stmt 1 view .LVU266
 893              		.loc 1 710 6 is_stmt 0 view .LVU267
 894 0010 0B2C     		cmp	r4, #11
 895 0012 00D8     		bhi	.L60
 711:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* every data block must be at least MIN_SIZE_ALIGNED long */
 712:Middlewares/Third_Party/LwIP/src/core/mem.c ****     newsize = MIN_SIZE_ALIGNED;
 896              		.loc 1 712 13 view .LVU268
 897 0014 0C24     		movs	r4, #12
 898              	.LVL76:
 899              	.L60:
 713:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 714:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK
 715:Middlewares/Third_Party/LwIP/src/core/mem.c ****   newsize += MEM_SANITY_REGION_BEFORE_ALIGNED + MEM_SANITY_REGION_AFTER_ALIGNED;
 716:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 717:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if ((newsize > MEM_SIZE_ALIGNED) || (newsize < new_size)) {
 900              		.loc 1 717 3 is_stmt 1 view .LVU269
 901              		.loc 1 717 48 is_stmt 0 view .LVU270
 902 0016 8C42     		cmp	r4, r1
 903 0018 2CBF     		ite	cs
 904 001a 0021     		movcs	r1, #0
 905              	.LVL77:
 906              		.loc 1 717 48 view .LVU271
 907 001c 0121     		movcc	r1, #1
 908              		.loc 1 717 36 view .LVU272
 909 001e B4F5205F 		cmp	r4, #10240
 910 0022 88BF     		it	hi
 911 0024 41F00101 		orrhi	r1, r1, #1
 912              		.loc 1 717 6 view .LVU273
 913 0028 0029     		cmp	r1, #0
 914 002a 40F0A280 		bne	.L74
 718:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return NULL;
 719:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 720:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 721:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("mem_trim: legal memory", (u8_t *)rmem >= (u8_t *)ram &&
 915              		.loc 1 721 3 is_stmt 1 view .LVU274
 916              		.loc 1 721 3 view .LVU275
 917 002e 544B     		ldr	r3, .L82
 918 0030 1B68     		ldr	r3, [r3]
 919 0032 AB42     		cmp	r3, r5
 920 0034 03D8     		bhi	.L62
 921              		.loc 1 721 3 is_stmt 0 discriminator 2 view .LVU276
 922 0036 534B     		ldr	r3, .L82+4
 923 0038 1B68     		ldr	r3, [r3]
 924 003a AB42     		cmp	r3, r5
 925 003c 06D8     		bhi	.L63
 926              	.L62:
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 34


 927              		.loc 1 721 3 is_stmt 1 discriminator 3 view .LVU277
 928              		.loc 1 721 3 discriminator 3 view .LVU278
 929 003e 524B     		ldr	r3, .L82+8
 930 0040 40F2D122 		movw	r2, #721
 931 0044 5149     		ldr	r1, .L82+12
 932 0046 5248     		ldr	r0, .L82+16
 933              	.LVL78:
 934              		.loc 1 721 3 is_stmt 0 discriminator 3 view .LVU279
 935 0048 FFF7FEFF 		bl	printf
 936              	.LVL79:
 937              	.L63:
 938              		.loc 1 721 3 is_stmt 1 discriminator 5 view .LVU280
 939              		.loc 1 721 3 discriminator 5 view .LVU281
 722:Middlewares/Third_Party/LwIP/src/core/mem.c ****               (u8_t *)rmem < (u8_t *)ram_end);
 723:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 724:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if ((u8_t *)rmem < (u8_t *)ram || (u8_t *)rmem >= (u8_t *)ram_end) {
 940              		.loc 1 724 3 discriminator 5 view .LVU282
 941              		.loc 1 724 20 is_stmt 0 discriminator 5 view .LVU283
 942 004c 4C4B     		ldr	r3, .L82
 943 004e 1B68     		ldr	r3, [r3]
 944              		.loc 1 724 6 discriminator 5 view .LVU284
 945 0050 AB42     		cmp	r3, r5
 946 0052 45D8     		bhi	.L64
 947              		.loc 1 724 53 discriminator 1 view .LVU285
 948 0054 4B4B     		ldr	r3, .L82+4
 949 0056 1B68     		ldr	r3, [r3]
 950              		.loc 1 724 34 discriminator 1 view .LVU286
 951 0058 AB42     		cmp	r3, r5
 952 005a 41D9     		bls	.L64
 725:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_trim: illegal memory\n"));
 726:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 727:Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC_LOCKED(illegal);
 728:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return rmem;
 729:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 730:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* Get the corresponding struct mem ... */
 731:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* cast through void* to get rid of alignment warnings */
 732:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem = (struct mem *)(void *)((u8_t *)rmem - (SIZEOF_STRUCT_MEM + MEM_SANITY_OFFSET));
 953              		.loc 1 732 3 is_stmt 1 view .LVU287
 954              	.LVL80:
 733:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK
 734:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_overflow_check_element(mem);
 735:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 736:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* ... and its offset pointer */
 737:Middlewares/Third_Party/LwIP/src/core/mem.c ****   ptr = mem_to_ptr(mem);
 955              		.loc 1 737 3 view .LVU288
 956              		.loc 1 737 9 is_stmt 0 view .LVU289
 957 005c A5F10800 		sub	r0, r5, #8
 958              	.LVL81:
 959              		.loc 1 737 9 view .LVU290
 960 0060 FFF7FEFF 		bl	mem_to_ptr
 961              	.LVL82:
 962              		.loc 1 737 9 view .LVU291
 963 0064 0646     		mov	r6, r0
 964              	.LVL83:
 738:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 739:Middlewares/Third_Party/LwIP/src/core/mem.c ****   size = (mem_size_t)((mem_size_t)(mem->next - ptr) - (SIZEOF_STRUCT_MEM + MEM_SANITY_OVERHEAD));
 965              		.loc 1 739 3 is_stmt 1 view .LVU292
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 35


 966              		.loc 1 739 39 is_stmt 0 view .LVU293
 967 0066 35F8088C 		ldrh	r8, [r5, #-8]
 968              		.loc 1 739 23 view .LVU294
 969 006a A8EB0008 		sub	r8, r8, r0
 970 006e 1FFA88F8 		uxth	r8, r8
 971              		.loc 1 739 8 view .LVU295
 972 0072 A8F10808 		sub	r8, r8, #8
 973 0076 1FFA88F8 		uxth	r8, r8
 974              	.LVL84:
 740:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("mem_trim can only shrink memory", newsize <= size);
 975              		.loc 1 740 3 is_stmt 1 view .LVU296
 976              		.loc 1 740 3 view .LVU297
 977 007a 4445     		cmp	r4, r8
 978 007c 37D8     		bhi	.L78
 979              	.LVL85:
 980              	.L66:
 981              		.loc 1 740 3 discriminator 3 view .LVU298
 982              		.loc 1 740 3 discriminator 3 view .LVU299
 741:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (newsize > size) {
 983              		.loc 1 741 3 discriminator 3 view .LVU300
 984              		.loc 1 741 6 is_stmt 0 discriminator 3 view .LVU301
 985 007e 4445     		cmp	r4, r8
 986 0080 79D8     		bhi	.L75
 742:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* not supported */
 743:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return NULL;
 744:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 745:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (newsize == size) {
 987              		.loc 1 745 3 is_stmt 1 view .LVU302
 988              		.loc 1 745 6 is_stmt 0 view .LVU303
 989 0082 7AD0     		beq	.L76
 746:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* No change in size, simply return */
 747:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return rmem;
 748:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 749:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 750:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* protect the heap from concurrent access */
 751:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_FREE_PROTECT();
 990              		.loc 1 751 3 is_stmt 1 view .LVU304
 991 0084 4348     		ldr	r0, .L82+20
 992 0086 FFF7FEFF 		bl	sys_mutex_lock
 993              	.LVL86:
 752:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 753:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem2 = ptr_to_mem(mem->next);
 994              		.loc 1 753 3 view .LVU305
 995              		.loc 1 753 10 is_stmt 0 view .LVU306
 996 008a 35F8087C 		ldrh	r7, [r5, #-8]
 997 008e 3846     		mov	r0, r7
 998 0090 FFF7FEFF 		bl	ptr_to_mem
 999              	.LVL87:
 1000 0094 8146     		mov	r9, r0
 1001              	.LVL88:
 754:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (mem2->used == 0) {
 1002              		.loc 1 754 3 is_stmt 1 view .LVU307
 1003              		.loc 1 754 11 is_stmt 0 view .LVU308
 1004 0096 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 1005              		.loc 1 754 6 view .LVU309
 1006 0098 002B     		cmp	r3, #0
 1007 009a 3ED1     		bne	.L67
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 36


 1008              	.LBB6:
 755:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* The next struct is unused, we can simply move it at little */
 756:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem_size_t next;
 1009              		.loc 1 756 5 is_stmt 1 view .LVU310
 757:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("invalid next ptr", mem->next != MEM_SIZE_ALIGNED);
 1010              		.loc 1 757 5 view .LVU311
 1011              		.loc 1 757 5 view .LVU312
 1012 009c B7F5205F 		cmp	r7, #10240
 1013 00a0 2DD0     		beq	.L79
 1014              	.LVL89:
 1015              	.L68:
 1016              		.loc 1 757 5 discriminator 3 view .LVU313
 1017              		.loc 1 757 5 discriminator 3 view .LVU314
 758:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* remember the old next pointer */
 759:Middlewares/Third_Party/LwIP/src/core/mem.c ****     next = mem2->next;
 1018              		.loc 1 759 5 discriminator 3 view .LVU315
 1019              		.loc 1 759 10 is_stmt 0 discriminator 3 view .LVU316
 1020 00a2 B9F80070 		ldrh	r7, [r9]
 1021              	.LVL90:
 760:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* create new struct mem which is moved directly after the shrinked mem */
 761:Middlewares/Third_Party/LwIP/src/core/mem.c ****     ptr2 = (mem_size_t)(ptr + SIZEOF_STRUCT_MEM + newsize);
 1022              		.loc 1 761 5 is_stmt 1 discriminator 3 view .LVU317
 1023              		.loc 1 761 49 is_stmt 0 discriminator 3 view .LVU318
 1024 00a6 3444     		add	r4, r4, r6
 1025              	.LVL91:
 1026              		.loc 1 761 49 discriminator 3 view .LVU319
 1027 00a8 A4B2     		uxth	r4, r4
 1028              		.loc 1 761 10 discriminator 3 view .LVU320
 1029 00aa 0834     		adds	r4, r4, #8
 1030 00ac A4B2     		uxth	r4, r4
 1031              	.LVL92:
 762:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (lfree == mem2) {
 1032              		.loc 1 762 5 is_stmt 1 discriminator 3 view .LVU321
 1033              		.loc 1 762 15 is_stmt 0 discriminator 3 view .LVU322
 1034 00ae 3A4B     		ldr	r3, .L82+24
 1035 00b0 1B68     		ldr	r3, [r3]
 1036              		.loc 1 762 8 discriminator 3 view .LVU323
 1037 00b2 4B45     		cmp	r3, r9
 1038 00b4 2BD0     		beq	.L80
 1039              	.L69:
 763:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = ptr_to_mem(ptr2);
 764:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 765:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = ptr_to_mem(ptr2);
 1040              		.loc 1 765 5 is_stmt 1 view .LVU324
 1041              		.loc 1 765 12 is_stmt 0 view .LVU325
 1042 00b6 2046     		mov	r0, r4
 1043 00b8 FFF7FEFF 		bl	ptr_to_mem
 1044              	.LVL93:
 766:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->used = 0;
 1045              		.loc 1 766 5 is_stmt 1 view .LVU326
 1046              		.loc 1 766 16 is_stmt 0 view .LVU327
 1047 00bc 0023     		movs	r3, #0
 1048 00be 0371     		strb	r3, [r0, #4]
 767:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* restore the next pointer */
 768:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->next = next;
 1049              		.loc 1 768 5 is_stmt 1 view .LVU328
 1050              		.loc 1 768 16 is_stmt 0 view .LVU329
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 37


 1051 00c0 0780     		strh	r7, [r0]	@ movhi
 769:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* link it back to mem */
 770:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->prev = ptr;
 1052              		.loc 1 770 5 is_stmt 1 view .LVU330
 1053              		.loc 1 770 16 is_stmt 0 view .LVU331
 1054 00c2 4680     		strh	r6, [r0, #2]	@ movhi
 771:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* link mem to it */
 772:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem->next = ptr2;
 1055              		.loc 1 772 5 is_stmt 1 view .LVU332
 1056              		.loc 1 772 15 is_stmt 0 view .LVU333
 1057 00c4 25F8084C 		strh	r4, [r5, #-8]	@ movhi
 773:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* last thing to restore linked list: as we have moved mem2,
 774:Middlewares/Third_Party/LwIP/src/core/mem.c ****      * let 'mem2->next->prev' point to mem2 again. but only if mem2->next is not
 775:Middlewares/Third_Party/LwIP/src/core/mem.c ****      * the end of the heap */
 776:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem2->next != MEM_SIZE_ALIGNED) {
 1058              		.loc 1 776 5 is_stmt 1 view .LVU334
 1059              		.loc 1 776 13 is_stmt 0 view .LVU335
 1060 00c8 0088     		ldrh	r0, [r0]
 1061              	.LVL94:
 1062              		.loc 1 776 8 view .LVU336
 1063 00ca B0F5205F 		cmp	r0, #10240
 1064 00ce 02D0     		beq	.L70
 777:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(mem2->next)->prev = ptr2;
 1065              		.loc 1 777 7 is_stmt 1 view .LVU337
 1066 00d0 FFF7FEFF 		bl	ptr_to_mem
 1067              	.LVL95:
 1068              		.loc 1 777 36 is_stmt 0 view .LVU338
 1069 00d4 4480     		strh	r4, [r0, #2]	@ movhi
 1070              	.LVL96:
 1071              	.L70:
 1072              		.loc 1 777 36 view .LVU339
 1073              	.LBE6:
 778:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 779:Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_DEC_USED(used, (size - newsize));
 780:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* no need to plug holes, we've already done that */
 781:Middlewares/Third_Party/LwIP/src/core/mem.c ****   } else if (newsize + SIZEOF_STRUCT_MEM + MIN_SIZE_ALIGNED <= size) {
 782:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* Next struct is used but there's room for another struct mem with
 783:Middlewares/Third_Party/LwIP/src/core/mem.c ****      * at least MIN_SIZE_ALIGNED of data.
 784:Middlewares/Third_Party/LwIP/src/core/mem.c ****      * Old size ('size') must be big enough to contain at least 'newsize' plus a struct mem
 785:Middlewares/Third_Party/LwIP/src/core/mem.c ****      * ('SIZEOF_STRUCT_MEM') with some data ('MIN_SIZE_ALIGNED').
 786:Middlewares/Third_Party/LwIP/src/core/mem.c ****      * @todo we could leave out MIN_SIZE_ALIGNED. We would create an empty
 787:Middlewares/Third_Party/LwIP/src/core/mem.c ****      *       region that couldn't hold data, but when mem->next gets freed,
 788:Middlewares/Third_Party/LwIP/src/core/mem.c ****      *       the 2 regions would be combined, resulting in more free memory */
 789:Middlewares/Third_Party/LwIP/src/core/mem.c ****     ptr2 = (mem_size_t)(ptr + SIZEOF_STRUCT_MEM + newsize);
 790:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("invalid next ptr", mem->next != MEM_SIZE_ALIGNED);
 791:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = ptr_to_mem(ptr2);
 792:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem2 < lfree) {
 793:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = mem2;
 794:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 795:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->used = 0;
 796:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->next = mem->next;
 797:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->prev = ptr;
 798:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem->next = ptr2;
 799:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem2->next != MEM_SIZE_ALIGNED) {
 800:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(mem2->next)->prev = ptr2;
 801:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 802:Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_DEC_USED(used, (size - newsize));
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 38


 1074              		.loc 1 802 47 is_stmt 1 view .LVU340
 803:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* the original mem->next is used, so no need to plug holes! */
 804:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 805:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* else {
 806:Middlewares/Third_Party/LwIP/src/core/mem.c ****     next struct mem is used but size between mem and mem2 is not big enough
 807:Middlewares/Third_Party/LwIP/src/core/mem.c ****     to create another struct mem
 808:Middlewares/Third_Party/LwIP/src/core/mem.c ****     -> don't do anyhting.
 809:Middlewares/Third_Party/LwIP/src/core/mem.c ****     -> the remaining space stays unused since it is too small
 810:Middlewares/Third_Party/LwIP/src/core/mem.c ****   } */
 811:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK
 812:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_overflow_init_element(mem, new_size);
 813:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 814:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_SANITY();
 1075              		.loc 1 814 15 view .LVU341
 815:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 816:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_free_count = 1;
 817:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 818:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_FREE_UNPROTECT();
 1076              		.loc 1 818 3 view .LVU342
 1077 00d6 2F48     		ldr	r0, .L82+20
 1078 00d8 FFF7FEFF 		bl	sys_mutex_unlock
 1079              	.LVL97:
 819:Middlewares/Third_Party/LwIP/src/core/mem.c ****   return rmem;
 1080              		.loc 1 819 3 view .LVU343
 1081              		.loc 1 819 10 is_stmt 0 view .LVU344
 1082 00dc 2846     		mov	r0, r5
 1083 00de 04E0     		b	.L59
 1084              	.LVL98:
 1085              	.L64:
 725:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 1086              		.loc 1 725 83 is_stmt 1 view .LVU345
 727:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return rmem;
 1087              		.loc 1 727 5 view .LVU346
 1088              	.LBB7:
 727:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return rmem;
 1089              		.loc 1 727 5 view .LVU347
 727:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return rmem;
 1090              		.loc 1 727 5 view .LVU348
 1091 00e0 FFF7FEFF 		bl	sys_arch_protect
 1092              	.LVL99:
 727:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return rmem;
 1093              		.loc 1 727 5 view .LVU349
 727:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return rmem;
 1094              		.loc 1 727 5 view .LVU350
 1095 00e4 FFF7FEFF 		bl	sys_arch_unprotect
 1096              	.LVL100:
 727:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return rmem;
 1097              		.loc 1 727 5 is_stmt 0 view .LVU351
 1098              	.LBE7:
 727:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return rmem;
 1099              		.loc 1 727 5 is_stmt 1 view .LVU352
 728:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 1100              		.loc 1 728 5 view .LVU353
 728:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 1101              		.loc 1 728 12 is_stmt 0 view .LVU354
 1102 00e8 2846     		mov	r0, r5
 1103              	.LVL101:
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 39


 1104              	.L59:
 820:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 1105              		.loc 1 820 1 view .LVU355
 1106 00ea BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1107              	.LVL102:
 1108              	.L78:
 740:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (newsize > size) {
 1109              		.loc 1 740 3 is_stmt 1 discriminator 1 view .LVU356
 740:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (newsize > size) {
 1110              		.loc 1 740 3 discriminator 1 view .LVU357
 1111 00ee 264B     		ldr	r3, .L82+8
 1112 00f0 4FF43972 		mov	r2, #740
 1113 00f4 2949     		ldr	r1, .L82+28
 1114 00f6 2648     		ldr	r0, .L82+16
 1115              	.LVL103:
 740:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (newsize > size) {
 1116              		.loc 1 740 3 is_stmt 0 discriminator 1 view .LVU358
 1117 00f8 FFF7FEFF 		bl	printf
 1118              	.LVL104:
 1119 00fc BFE7     		b	.L66
 1120              	.LVL105:
 1121              	.L79:
 1122              	.LBB8:
 757:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* remember the old next pointer */
 1123              		.loc 1 757 5 is_stmt 1 discriminator 1 view .LVU359
 757:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* remember the old next pointer */
 1124              		.loc 1 757 5 discriminator 1 view .LVU360
 1125 00fe 224B     		ldr	r3, .L82+8
 1126 0100 40F2F522 		movw	r2, #757
 1127 0104 2649     		ldr	r1, .L82+32
 1128 0106 2248     		ldr	r0, .L82+16
 1129              	.LVL106:
 757:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* remember the old next pointer */
 1130              		.loc 1 757 5 is_stmt 0 discriminator 1 view .LVU361
 1131 0108 FFF7FEFF 		bl	printf
 1132              	.LVL107:
 1133 010c C9E7     		b	.L68
 1134              	.LVL108:
 1135              	.L80:
 763:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 1136              		.loc 1 763 7 is_stmt 1 view .LVU362
 763:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 1137              		.loc 1 763 15 is_stmt 0 view .LVU363
 1138 010e 2046     		mov	r0, r4
 1139 0110 FFF7FEFF 		bl	ptr_to_mem
 1140              	.LVL109:
 763:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 1141              		.loc 1 763 13 view .LVU364
 1142 0114 204B     		ldr	r3, .L82+24
 1143 0116 1860     		str	r0, [r3]
 1144 0118 CDE7     		b	.L69
 1145              	.LVL110:
 1146              	.L67:
 763:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 1147              		.loc 1 763 13 view .LVU365
 1148              	.LBE8:
 781:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* Next struct is used but there's room for another struct mem with
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 40


 1149              		.loc 1 781 10 is_stmt 1 view .LVU366
 781:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* Next struct is used but there's room for another struct mem with
 1150              		.loc 1 781 42 is_stmt 0 view .LVU367
 1151 011a 04F11403 		add	r3, r4, #20
 781:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* Next struct is used but there's room for another struct mem with
 1152              		.loc 1 781 13 view .LVU368
 1153 011e 4345     		cmp	r3, r8
 1154 0120 D9D8     		bhi	.L70
 789:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("invalid next ptr", mem->next != MEM_SIZE_ALIGNED);
 1155              		.loc 1 789 5 is_stmt 1 view .LVU369
 789:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("invalid next ptr", mem->next != MEM_SIZE_ALIGNED);
 1156              		.loc 1 789 49 is_stmt 0 view .LVU370
 1157 0122 3444     		add	r4, r4, r6
 1158              	.LVL111:
 789:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("invalid next ptr", mem->next != MEM_SIZE_ALIGNED);
 1159              		.loc 1 789 49 view .LVU371
 1160 0124 A4B2     		uxth	r4, r4
 789:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("invalid next ptr", mem->next != MEM_SIZE_ALIGNED);
 1161              		.loc 1 789 10 view .LVU372
 1162 0126 0834     		adds	r4, r4, #8
 1163 0128 A4B2     		uxth	r4, r4
 1164              	.LVL112:
 790:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = ptr_to_mem(ptr2);
 1165              		.loc 1 790 5 is_stmt 1 view .LVU373
 790:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = ptr_to_mem(ptr2);
 1166              		.loc 1 790 5 view .LVU374
 1167 012a B7F5205F 		cmp	r7, #10240
 1168 012e 18D0     		beq	.L81
 1169              	.LVL113:
 1170              	.L71:
 790:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = ptr_to_mem(ptr2);
 1171              		.loc 1 790 5 discriminator 3 view .LVU375
 790:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = ptr_to_mem(ptr2);
 1172              		.loc 1 790 5 discriminator 3 view .LVU376
 791:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem2 < lfree) {
 1173              		.loc 1 791 5 discriminator 3 view .LVU377
 791:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem2 < lfree) {
 1174              		.loc 1 791 12 is_stmt 0 discriminator 3 view .LVU378
 1175 0130 2046     		mov	r0, r4
 1176 0132 FFF7FEFF 		bl	ptr_to_mem
 1177              	.LVL114:
 792:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = mem2;
 1178              		.loc 1 792 5 is_stmt 1 discriminator 3 view .LVU379
 792:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = mem2;
 1179              		.loc 1 792 14 is_stmt 0 discriminator 3 view .LVU380
 1180 0136 184B     		ldr	r3, .L82+24
 1181 0138 1B68     		ldr	r3, [r3]
 792:Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = mem2;
 1182              		.loc 1 792 8 discriminator 3 view .LVU381
 1183 013a 8342     		cmp	r3, r0
 1184 013c 01D9     		bls	.L72
 793:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 1185              		.loc 1 793 7 is_stmt 1 view .LVU382
 793:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 1186              		.loc 1 793 13 is_stmt 0 view .LVU383
 1187 013e 164B     		ldr	r3, .L82+24
 1188 0140 1860     		str	r0, [r3]
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 41


 1189              	.L72:
 795:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->next = mem->next;
 1190              		.loc 1 795 5 is_stmt 1 view .LVU384
 795:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->next = mem->next;
 1191              		.loc 1 795 16 is_stmt 0 view .LVU385
 1192 0142 0023     		movs	r3, #0
 1193 0144 0371     		strb	r3, [r0, #4]
 796:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->prev = ptr;
 1194              		.loc 1 796 5 is_stmt 1 view .LVU386
 796:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->prev = ptr;
 1195              		.loc 1 796 21 is_stmt 0 view .LVU387
 1196 0146 35F8083C 		ldrh	r3, [r5, #-8]
 796:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->prev = ptr;
 1197              		.loc 1 796 16 view .LVU388
 1198 014a 0380     		strh	r3, [r0]	@ movhi
 797:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem->next = ptr2;
 1199              		.loc 1 797 5 is_stmt 1 view .LVU389
 797:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem->next = ptr2;
 1200              		.loc 1 797 16 is_stmt 0 view .LVU390
 1201 014c 4680     		strh	r6, [r0, #2]	@ movhi
 798:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem2->next != MEM_SIZE_ALIGNED) {
 1202              		.loc 1 798 5 is_stmt 1 view .LVU391
 798:Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem2->next != MEM_SIZE_ALIGNED) {
 1203              		.loc 1 798 15 is_stmt 0 view .LVU392
 1204 014e 25F8084C 		strh	r4, [r5, #-8]	@ movhi
 799:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(mem2->next)->prev = ptr2;
 1205              		.loc 1 799 5 is_stmt 1 view .LVU393
 799:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(mem2->next)->prev = ptr2;
 1206              		.loc 1 799 13 is_stmt 0 view .LVU394
 1207 0152 0088     		ldrh	r0, [r0]
 1208              	.LVL115:
 799:Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(mem2->next)->prev = ptr2;
 1209              		.loc 1 799 8 view .LVU395
 1210 0154 B0F5205F 		cmp	r0, #10240
 1211 0158 BDD0     		beq	.L70
 800:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 1212              		.loc 1 800 7 is_stmt 1 view .LVU396
 1213 015a FFF7FEFF 		bl	ptr_to_mem
 1214              	.LVL116:
 800:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 1215              		.loc 1 800 36 is_stmt 0 view .LVU397
 1216 015e 4480     		strh	r4, [r0, #2]	@ movhi
 1217 0160 B9E7     		b	.L70
 1218              	.LVL117:
 1219              	.L81:
 790:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = ptr_to_mem(ptr2);
 1220              		.loc 1 790 5 is_stmt 1 discriminator 1 view .LVU398
 790:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = ptr_to_mem(ptr2);
 1221              		.loc 1 790 5 discriminator 1 view .LVU399
 1222 0162 094B     		ldr	r3, .L82+8
 1223 0164 40F21632 		movw	r2, #790
 1224 0168 0D49     		ldr	r1, .L82+32
 1225 016a 0948     		ldr	r0, .L82+16
 1226              	.LVL118:
 790:Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = ptr_to_mem(ptr2);
 1227              		.loc 1 790 5 is_stmt 0 discriminator 1 view .LVU400
 1228 016c FFF7FEFF 		bl	printf
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 42


 1229              	.LVL119:
 1230 0170 DEE7     		b	.L71
 1231              	.LVL120:
 1232              	.L74:
 718:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 1233              		.loc 1 718 12 view .LVU401
 1234 0172 0020     		movs	r0, #0
 1235              	.LVL121:
 718:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 1236              		.loc 1 718 12 view .LVU402
 1237 0174 B9E7     		b	.L59
 1238              	.LVL122:
 1239              	.L75:
 743:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 1240              		.loc 1 743 12 view .LVU403
 1241 0176 0020     		movs	r0, #0
 1242 0178 B7E7     		b	.L59
 1243              	.L76:
 747:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 1244              		.loc 1 747 12 view .LVU404
 1245 017a 2846     		mov	r0, r5
 1246 017c B5E7     		b	.L59
 1247              	.L83:
 1248 017e 00BF     		.align	2
 1249              	.L82:
 1250 0180 00000000 		.word	.LANCHOR0
 1251 0184 00000000 		.word	.LANCHOR1
 1252 0188 00000000 		.word	.LC0
 1253 018c 00000000 		.word	.LC11
 1254 0190 44000000 		.word	.LC2
 1255 0194 00000000 		.word	.LANCHOR3
 1256 0198 00000000 		.word	.LANCHOR2
 1257 019c 18000000 		.word	.LC12
 1258 01a0 38000000 		.word	.LC13
 1259              		.cfi_endproc
 1260              	.LFE36:
 1262              		.section	.rodata.mem_malloc.str1.4,"aMS",%progbits,1
 1263              		.align	2
 1264              	.LC14:
 1265 0000 6D656D5F 		.ascii	"mem_malloc: !lfree->used\000"
 1265      6D616C6C 
 1265      6F633A20 
 1265      216C6672 
 1265      65652D3E 
 1266 0019 000000   		.align	2
 1267              	.LC15:
 1268 001c 6D656D5F 		.ascii	"mem_malloc: allocated memory not above ram_end.\000"
 1268      6D616C6C 
 1268      6F633A20 
 1268      616C6C6F 
 1268      63617465 
 1269              		.align	2
 1270              	.LC16:
 1271 004c 6D656D5F 		.ascii	"mem_malloc: allocated memory properly aligned.\000"
 1271      6D616C6C 
 1271      6F633A20 
 1271      616C6C6F 
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 43


 1271      63617465 
 1272 007b 00       		.align	2
 1273              	.LC17:
 1274 007c 6D656D5F 		.ascii	"mem_malloc: sanity check alignment\000"
 1274      6D616C6C 
 1274      6F633A20 
 1274      73616E69 
 1274      74792063 
 1275              		.section	.text.mem_malloc,"ax",%progbits
 1276              		.align	1
 1277              		.global	mem_malloc
 1278              		.syntax unified
 1279              		.thumb
 1280              		.thumb_func
 1281              		.fpu fpv5-sp-d16
 1283              	mem_malloc:
 1284              	.LVL123:
 1285              	.LFB37:
 821:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 822:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 823:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Allocate a block of memory with a minimum of 'size' bytes.
 824:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 825:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param size_in is the minimum size of the requested block in bytes.
 826:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @return pointer to allocated memory or NULL if no free memory was found.
 827:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 828:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Note that the returned value will always be aligned (as defined by MEM_ALIGNMENT).
 829:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 830:Middlewares/Third_Party/LwIP/src/core/mem.c **** void *
 831:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_malloc(mem_size_t size_in)
 832:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 1286              		.loc 1 832 1 is_stmt 1 view -0
 1287              		.cfi_startproc
 1288              		@ args = 0, pretend = 0, frame = 0
 1289              		@ frame_needed = 0, uses_anonymous_args = 0
 833:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t ptr, ptr2, size;
 1290              		.loc 1 833 3 view .LVU406
 834:Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *mem, *mem2;
 1291              		.loc 1 834 3 view .LVU407
 835:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 836:Middlewares/Third_Party/LwIP/src/core/mem.c ****   u8_t local_mem_free_count = 0;
 837:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 838:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_ALLOC_DECL_PROTECT();
 1292              		.loc 1 838 32 view .LVU408
 839:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 840:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (size_in == 0) {
 1293              		.loc 1 840 3 view .LVU409
 1294              		.loc 1 840 6 is_stmt 0 view .LVU410
 1295 0000 0028     		cmp	r0, #0
 1296 0002 00F0A780 		beq	.L100
 832:Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t ptr, ptr2, size;
 1297              		.loc 1 832 1 view .LVU411
 1298 0006 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1299              	.LCFI6:
 1300              		.cfi_def_cfa_offset 24
 1301              		.cfi_offset 4, -24
 1302              		.cfi_offset 5, -20
 1303              		.cfi_offset 6, -16
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 44


 1304              		.cfi_offset 7, -12
 1305              		.cfi_offset 8, -8
 1306              		.cfi_offset 14, -4
 1307 000a 0346     		mov	r3, r0
 841:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return NULL;
 842:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 843:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 844:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* Expand the size of the allocated memory region so that we can
 845:Middlewares/Third_Party/LwIP/src/core/mem.c ****      adjust for alignment. */
 846:Middlewares/Third_Party/LwIP/src/core/mem.c ****   size = (mem_size_t)LWIP_MEM_ALIGN_SIZE(size_in);
 1308              		.loc 1 846 3 is_stmt 1 view .LVU412
 1309              		.loc 1 846 22 is_stmt 0 view .LVU413
 1310 000c C61C     		adds	r6, r0, #3
 1311 000e B6B2     		uxth	r6, r6
 1312              		.loc 1 846 8 view .LVU414
 1313 0010 26F00306 		bic	r6, r6, #3
 1314 0014 B6B2     		uxth	r6, r6
 1315              	.LVL124:
 847:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (size < MIN_SIZE_ALIGNED) {
 1316              		.loc 1 847 3 is_stmt 1 view .LVU415
 1317              		.loc 1 847 6 is_stmt 0 view .LVU416
 1318 0016 0B2E     		cmp	r6, #11
 1319 0018 00D8     		bhi	.L86
 848:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* every data block must be at least MIN_SIZE_ALIGNED long */
 849:Middlewares/Third_Party/LwIP/src/core/mem.c ****     size = MIN_SIZE_ALIGNED;
 1320              		.loc 1 849 10 view .LVU417
 1321 001a 0C26     		movs	r6, #12
 1322              	.LVL125:
 1323              	.L86:
 850:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 851:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK
 852:Middlewares/Third_Party/LwIP/src/core/mem.c ****   size += MEM_SANITY_REGION_BEFORE_ALIGNED + MEM_SANITY_REGION_AFTER_ALIGNED;
 853:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 854:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if ((size > MEM_SIZE_ALIGNED) || (size < size_in)) {
 1324              		.loc 1 854 3 is_stmt 1 view .LVU418
 1325              		.loc 1 854 42 is_stmt 0 view .LVU419
 1326 001c 9E42     		cmp	r6, r3
 1327 001e 2CBF     		ite	cs
 1328 0020 0023     		movcs	r3, #0
 1329 0022 0123     		movcc	r3, #1
 1330              		.loc 1 854 33 view .LVU420
 1331 0024 B6F5205F 		cmp	r6, #10240
 1332 0028 88BF     		it	hi
 1333 002a 43F00103 		orrhi	r3, r3, #1
 1334              		.loc 1 854 6 view .LVU421
 1335 002e 002B     		cmp	r3, #0
 1336 0030 40F09280 		bne	.L102
 855:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return NULL;
 856:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 857:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 858:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* protect the heap from concurrent access */
 859:Middlewares/Third_Party/LwIP/src/core/mem.c ****   sys_mutex_lock(&mem_mutex);
 1337              		.loc 1 859 3 is_stmt 1 view .LVU422
 1338 0034 4948     		ldr	r0, .L112
 1339              	.LVL126:
 1340              		.loc 1 859 3 is_stmt 0 view .LVU423
 1341 0036 FFF7FEFF 		bl	sys_mutex_lock
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 45


 1342              	.LVL127:
 860:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_ALLOC_PROTECT();
 1343              		.loc 1 860 27 is_stmt 1 view .LVU424
 861:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 862:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* run as long as a mem_free disturbed mem_malloc or mem_trim */
 863:Middlewares/Third_Party/LwIP/src/core/mem.c ****   do {
 864:Middlewares/Third_Party/LwIP/src/core/mem.c ****     local_mem_free_count = 0;
 865:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 866:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 867:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* Scan through the heap searching for a free block that is big enough,
 868:Middlewares/Third_Party/LwIP/src/core/mem.c ****      * beginning with the lowest free block.
 869:Middlewares/Third_Party/LwIP/src/core/mem.c ****      */
 870:Middlewares/Third_Party/LwIP/src/core/mem.c ****     for (ptr = mem_to_ptr(lfree); ptr < MEM_SIZE_ALIGNED - size;
 1344              		.loc 1 870 5 view .LVU425
 1345              		.loc 1 870 16 is_stmt 0 view .LVU426
 1346 003a 494B     		ldr	r3, .L112+4
 1347 003c 1868     		ldr	r0, [r3]
 1348 003e FFF7FEFF 		bl	mem_to_ptr
 1349              	.LVL128:
 1350 0042 0546     		mov	r5, r0
 1351              	.LVL129:
 1352              		.loc 1 870 5 view .LVU427
 1353 0044 4FE0     		b	.L87
 1354              	.LVL130:
 1355              	.L111:
 871:Middlewares/Third_Party/LwIP/src/core/mem.c ****          ptr = ptr_to_mem(ptr)->next) {
 872:Middlewares/Third_Party/LwIP/src/core/mem.c ****       mem = ptr_to_mem(ptr);
 873:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 874:Middlewares/Third_Party/LwIP/src/core/mem.c ****       mem_free_count = 0;
 875:Middlewares/Third_Party/LwIP/src/core/mem.c ****       LWIP_MEM_ALLOC_UNPROTECT();
 876:Middlewares/Third_Party/LwIP/src/core/mem.c ****       /* allow mem_free or mem_trim to run */
 877:Middlewares/Third_Party/LwIP/src/core/mem.c ****       LWIP_MEM_ALLOC_PROTECT();
 878:Middlewares/Third_Party/LwIP/src/core/mem.c ****       if (mem_free_count != 0) {
 879:Middlewares/Third_Party/LwIP/src/core/mem.c ****         /* If mem_free or mem_trim have run, we have to restart since they
 880:Middlewares/Third_Party/LwIP/src/core/mem.c ****            could have altered our current struct mem. */
 881:Middlewares/Third_Party/LwIP/src/core/mem.c ****         local_mem_free_count = 1;
 882:Middlewares/Third_Party/LwIP/src/core/mem.c ****         break;
 883:Middlewares/Third_Party/LwIP/src/core/mem.c ****       }
 884:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 885:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 886:Middlewares/Third_Party/LwIP/src/core/mem.c ****       if ((!mem->used) &&
 887:Middlewares/Third_Party/LwIP/src/core/mem.c ****           (mem->next - (ptr + SIZEOF_STRUCT_MEM)) >= size) {
 888:Middlewares/Third_Party/LwIP/src/core/mem.c ****         /* mem is not used and at least perfect fit is possible:
 889:Middlewares/Third_Party/LwIP/src/core/mem.c ****          * mem->next - (ptr + SIZEOF_STRUCT_MEM) gives us the 'user data size' of mem */
 890:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 891:Middlewares/Third_Party/LwIP/src/core/mem.c ****         if (mem->next - (ptr + SIZEOF_STRUCT_MEM) >= (size + SIZEOF_STRUCT_MEM + MIN_SIZE_ALIGNED))
 892:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* (in addition to the above, we test if another struct mem (SIZEOF_STRUCT_MEM) containin
 893:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * at least MIN_SIZE_ALIGNED of data also fits in the 'user data space' of 'mem')
 894:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * -> split large block, create empty remainder,
 895:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * remainder must be large enough to contain MIN_SIZE_ALIGNED data: if
 896:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * mem->next - (ptr + (2*SIZEOF_STRUCT_MEM)) == size,
 897:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * struct mem would fit in but no data between mem2 and mem2->next
 898:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * @todo we could leave out MIN_SIZE_ALIGNED. We would create an empty
 899:Middlewares/Third_Party/LwIP/src/core/mem.c ****            *       region that couldn't hold data, but when mem->next gets freed,
 900:Middlewares/Third_Party/LwIP/src/core/mem.c ****            *       the 2 regions would be combined, resulting in more free memory
 901:Middlewares/Third_Party/LwIP/src/core/mem.c ****            */
 902:Middlewares/Third_Party/LwIP/src/core/mem.c ****           ptr2 = (mem_size_t)(ptr + SIZEOF_STRUCT_MEM + size);
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 46


 903:Middlewares/Third_Party/LwIP/src/core/mem.c ****           LWIP_ASSERT("invalid next ptr",ptr2 != MEM_SIZE_ALIGNED);
 1356              		.loc 1 903 11 is_stmt 1 discriminator 1 view .LVU428
 1357              		.loc 1 903 11 discriminator 1 view .LVU429
 1358 0046 474B     		ldr	r3, .L112+8
 1359 0048 40F28732 		movw	r2, #903
 1360 004c 4649     		ldr	r1, .L112+12
 1361 004e 4748     		ldr	r0, .L112+16
 1362              	.LVL131:
 1363              		.loc 1 903 11 is_stmt 0 discriminator 1 view .LVU430
 1364 0050 FFF7FEFF 		bl	printf
 1365              	.LVL132:
 1366 0054 65E0     		b	.L90
 1367              	.LVL133:
 1368              	.L89:
 904:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* create mem2 struct */
 905:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2 = ptr_to_mem(ptr2);
 906:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->used = 0;
 907:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->next = mem->next;
 908:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->prev = ptr;
 909:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* and insert it between mem and mem->next */
 910:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem->next = ptr2;
 911:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem->used = 1;
 912:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 913:Middlewares/Third_Party/LwIP/src/core/mem.c ****           if (mem2->next != MEM_SIZE_ALIGNED) {
 914:Middlewares/Third_Party/LwIP/src/core/mem.c ****             ptr_to_mem(mem2->next)->prev = ptr2;
 915:Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 916:Middlewares/Third_Party/LwIP/src/core/mem.c ****           MEM_STATS_INC_USED(used, (size + SIZEOF_STRUCT_MEM));
 917:Middlewares/Third_Party/LwIP/src/core/mem.c ****         } else {
 918:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* (a mem2 struct does no fit into the user data space of mem and mem->next will always
 919:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * be used at this point: if not we have 2 unused structs in a row, plug_holes should hav
 920:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * take care of this).
 921:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * -> near fit or exact fit: do not split, no mem2 creation
 922:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * also can't move mem->next directly behind mem, since mem->next
 923:Middlewares/Third_Party/LwIP/src/core/mem.c ****            * will always be used at this point!
 924:Middlewares/Third_Party/LwIP/src/core/mem.c ****            */
 925:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem->used = 1;
 1369              		.loc 1 925 11 is_stmt 1 view .LVU431
 1370              		.loc 1 925 21 is_stmt 0 view .LVU432
 1371 0056 0123     		movs	r3, #1
 1372 0058 0371     		strb	r3, [r0, #4]
 1373              	.LVL134:
 1374              	.L91:
 926:Middlewares/Third_Party/LwIP/src/core/mem.c ****           MEM_STATS_INC_USED(used, mem->next - mem_to_ptr(mem));
 1375              		.loc 1 926 64 is_stmt 1 view .LVU433
 927:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 928:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 929:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_malloc_adjust_lfree:
 930:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 931:Middlewares/Third_Party/LwIP/src/core/mem.c ****         if (mem == lfree) {
 1376              		.loc 1 931 9 view .LVU434
 1377              		.loc 1 931 17 is_stmt 0 view .LVU435
 1378 005a 414B     		ldr	r3, .L112+4
 1379 005c 1868     		ldr	r0, [r3]
 1380              		.loc 1 931 12 view .LVU436
 1381 005e A042     		cmp	r0, r4
 1382 0060 12D0     		beq	.L92
 1383              	.L93:
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 47


 1384              	.LBB9:
 932:Middlewares/Third_Party/LwIP/src/core/mem.c ****           struct mem *cur = lfree;
 933:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* Find next free block after mem and update lowest free pointer */
 934:Middlewares/Third_Party/LwIP/src/core/mem.c ****           while (cur->used && cur != ram_end) {
 935:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 936:Middlewares/Third_Party/LwIP/src/core/mem.c ****             mem_free_count = 0;
 937:Middlewares/Third_Party/LwIP/src/core/mem.c ****             LWIP_MEM_ALLOC_UNPROTECT();
 938:Middlewares/Third_Party/LwIP/src/core/mem.c ****             /* prevent high interrupt latency... */
 939:Middlewares/Third_Party/LwIP/src/core/mem.c ****             LWIP_MEM_ALLOC_PROTECT();
 940:Middlewares/Third_Party/LwIP/src/core/mem.c ****             if (mem_free_count != 0) {
 941:Middlewares/Third_Party/LwIP/src/core/mem.c ****               /* If mem_free or mem_trim have run, we have to restart since they
 942:Middlewares/Third_Party/LwIP/src/core/mem.c ****                  could have altered our current struct mem or lfree. */
 943:Middlewares/Third_Party/LwIP/src/core/mem.c ****               goto mem_malloc_adjust_lfree;
 944:Middlewares/Third_Party/LwIP/src/core/mem.c ****             }
 945:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 946:Middlewares/Third_Party/LwIP/src/core/mem.c ****             cur = ptr_to_mem(cur->next);
 947:Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 948:Middlewares/Third_Party/LwIP/src/core/mem.c ****           lfree = cur;
 949:Middlewares/Third_Party/LwIP/src/core/mem.c ****           LWIP_ASSERT("mem_malloc: !lfree->used", ((lfree == ram_end) || (!lfree->used)));
 1385              		.loc 1 949 11 is_stmt 1 discriminator 5 view .LVU437
 1386              		.loc 1 949 11 discriminator 5 view .LVU438
 1387              	.LBE9:
 950:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 951:Middlewares/Third_Party/LwIP/src/core/mem.c ****         LWIP_MEM_ALLOC_UNPROTECT();
 1388              		.loc 1 951 35 discriminator 5 view .LVU439
 952:Middlewares/Third_Party/LwIP/src/core/mem.c ****         sys_mutex_unlock(&mem_mutex);
 1389              		.loc 1 952 9 discriminator 5 view .LVU440
 1390 0062 3E48     		ldr	r0, .L112
 1391 0064 FFF7FEFF 		bl	sys_mutex_unlock
 1392              	.LVL135:
 953:Middlewares/Third_Party/LwIP/src/core/mem.c ****         LWIP_ASSERT("mem_malloc: allocated memory not above ram_end.",
 1393              		.loc 1 953 9 discriminator 5 view .LVU441
 1394              		.loc 1 953 9 discriminator 5 view .LVU442
 1395 0068 2744     		add	r7, r7, r4
 1396 006a 0837     		adds	r7, r7, #8
 1397 006c 404B     		ldr	r3, .L112+20
 1398 006e 1B68     		ldr	r3, [r3]
 1399 0070 9F42     		cmp	r7, r3
 1400 0072 1FD8     		bhi	.L107
 1401              	.L96:
 1402              		.loc 1 953 9 discriminator 3 view .LVU443
 1403              		.loc 1 953 9 discriminator 3 view .LVU444
 954:Middlewares/Third_Party/LwIP/src/core/mem.c ****                     (mem_ptr_t)mem + SIZEOF_STRUCT_MEM + size <= (mem_ptr_t)ram_end);
 955:Middlewares/Third_Party/LwIP/src/core/mem.c ****         LWIP_ASSERT("mem_malloc: allocated memory properly aligned.",
 1404              		.loc 1 955 9 discriminator 3 view .LVU445
 1405              		.loc 1 955 9 discriminator 3 view .LVU446
 1406 0074 14F00305 		ands	r5, r4, #3
 1407              	.LVL136:
 1408              		.loc 1 955 9 is_stmt 0 discriminator 3 view .LVU447
 1409 0078 24D1     		bne	.L108
 1410              	.L97:
 1411              		.loc 1 955 9 is_stmt 1 discriminator 3 view .LVU448
 1412              		.loc 1 955 9 discriminator 3 view .LVU449
 956:Middlewares/Third_Party/LwIP/src/core/mem.c ****                     ((mem_ptr_t)mem + SIZEOF_STRUCT_MEM) % MEM_ALIGNMENT == 0);
 957:Middlewares/Third_Party/LwIP/src/core/mem.c ****         LWIP_ASSERT("mem_malloc: sanity check alignment",
 1413              		.loc 1 957 9 discriminator 3 view .LVU450
 1414              		.loc 1 957 9 discriminator 3 view .LVU451
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 48


 1415 007a 5DBB     		cbnz	r5, .L109
 1416              	.L98:
 1417              		.loc 1 957 9 discriminator 3 view .LVU452
 1418              		.loc 1 957 9 discriminator 3 view .LVU453
 958:Middlewares/Third_Party/LwIP/src/core/mem.c ****                     (((mem_ptr_t)mem) & (MEM_ALIGNMENT - 1)) == 0);
 959:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 960:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK
 961:Middlewares/Third_Party/LwIP/src/core/mem.c ****         mem_overflow_init_element(mem, size_in);
 962:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 963:Middlewares/Third_Party/LwIP/src/core/mem.c ****         MEM_SANITY();
 1419              		.loc 1 963 21 discriminator 3 view .LVU454
 964:Middlewares/Third_Party/LwIP/src/core/mem.c ****         return (u8_t *)mem + SIZEOF_STRUCT_MEM + MEM_SANITY_OFFSET;
 1420              		.loc 1 964 9 discriminator 3 view .LVU455
 1421              		.loc 1 964 48 is_stmt 0 discriminator 3 view .LVU456
 1422 007c 04F10800 		add	r0, r4, #8
 1423 0080 66E0     		b	.L84
 1424              	.LVL137:
 1425              	.L95:
 1426              	.LBB10:
 946:Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 1427              		.loc 1 946 13 is_stmt 1 view .LVU457
 946:Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 1428              		.loc 1 946 19 is_stmt 0 view .LVU458
 1429 0082 0088     		ldrh	r0, [r0]
 1430              	.LVL138:
 946:Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 1431              		.loc 1 946 19 view .LVU459
 1432 0084 FFF7FEFF 		bl	ptr_to_mem
 1433              	.LVL139:
 1434              	.L92:
 934:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 1435              		.loc 1 934 17 is_stmt 1 view .LVU460
 934:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 1436              		.loc 1 934 21 is_stmt 0 view .LVU461
 1437 0088 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 934:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 1438              		.loc 1 934 17 view .LVU462
 1439 008a 1BB1     		cbz	r3, .L94
 934:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 1440              		.loc 1 934 35 discriminator 1 view .LVU463
 1441 008c 384A     		ldr	r2, .L112+20
 1442 008e 1268     		ldr	r2, [r2]
 934:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 1443              		.loc 1 934 28 discriminator 1 view .LVU464
 1444 0090 8242     		cmp	r2, r0
 1445 0092 F6D1     		bne	.L95
 1446              	.L94:
 948:Middlewares/Third_Party/LwIP/src/core/mem.c ****           LWIP_ASSERT("mem_malloc: !lfree->used", ((lfree == ram_end) || (!lfree->used)));
 1447              		.loc 1 948 11 is_stmt 1 view .LVU465
 948:Middlewares/Third_Party/LwIP/src/core/mem.c ****           LWIP_ASSERT("mem_malloc: !lfree->used", ((lfree == ram_end) || (!lfree->used)));
 1448              		.loc 1 948 17 is_stmt 0 view .LVU466
 1449 0094 324A     		ldr	r2, .L112+4
 1450 0096 1060     		str	r0, [r2]
 949:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 1451              		.loc 1 949 11 is_stmt 1 view .LVU467
 949:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 1452              		.loc 1 949 11 view .LVU468
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 49


 1453 0098 354A     		ldr	r2, .L112+20
 1454 009a 1268     		ldr	r2, [r2]
 1455 009c 8242     		cmp	r2, r0
 1456 009e E0D0     		beq	.L93
 949:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 1457              		.loc 1 949 11 is_stmt 0 discriminator 1 view .LVU469
 1458 00a0 002B     		cmp	r3, #0
 1459 00a2 DED0     		beq	.L93
 949:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 1460              		.loc 1 949 11 is_stmt 1 discriminator 3 view .LVU470
 949:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 1461              		.loc 1 949 11 discriminator 3 view .LVU471
 1462 00a4 2F4B     		ldr	r3, .L112+8
 1463 00a6 40F2B532 		movw	r2, #949
 1464 00aa 3249     		ldr	r1, .L112+24
 1465 00ac 2F48     		ldr	r0, .L112+16
 1466              	.LVL140:
 949:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 1467              		.loc 1 949 11 is_stmt 0 discriminator 3 view .LVU472
 1468 00ae FFF7FEFF 		bl	printf
 1469              	.LVL141:
 949:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 1470              		.loc 1 949 11 discriminator 3 view .LVU473
 1471 00b2 D6E7     		b	.L93
 1472              	.L107:
 949:Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 1473              		.loc 1 949 11 discriminator 3 view .LVU474
 1474              	.LBE10:
 953:Middlewares/Third_Party/LwIP/src/core/mem.c ****                     (mem_ptr_t)mem + SIZEOF_STRUCT_MEM + size <= (mem_ptr_t)ram_end);
 1475              		.loc 1 953 9 is_stmt 1 discriminator 1 view .LVU475
 953:Middlewares/Third_Party/LwIP/src/core/mem.c ****                     (mem_ptr_t)mem + SIZEOF_STRUCT_MEM + size <= (mem_ptr_t)ram_end);
 1476              		.loc 1 953 9 discriminator 1 view .LVU476
 1477 00b4 2B4B     		ldr	r3, .L112+8
 1478 00b6 40F2B932 		movw	r2, #953
 1479 00ba 2F49     		ldr	r1, .L112+28
 1480 00bc 2B48     		ldr	r0, .L112+16
 1481 00be FFF7FEFF 		bl	printf
 1482              	.LVL142:
 1483 00c2 D7E7     		b	.L96
 1484              	.LVL143:
 1485              	.L108:
 955:Middlewares/Third_Party/LwIP/src/core/mem.c ****                     ((mem_ptr_t)mem + SIZEOF_STRUCT_MEM) % MEM_ALIGNMENT == 0);
 1486              		.loc 1 955 9 discriminator 1 view .LVU477
 955:Middlewares/Third_Party/LwIP/src/core/mem.c ****                     ((mem_ptr_t)mem + SIZEOF_STRUCT_MEM) % MEM_ALIGNMENT == 0);
 1487              		.loc 1 955 9 discriminator 1 view .LVU478
 1488 00c4 274B     		ldr	r3, .L112+8
 1489 00c6 40F2BB32 		movw	r2, #955
 1490 00ca 2C49     		ldr	r1, .L112+32
 1491 00cc 2748     		ldr	r0, .L112+16
 1492 00ce FFF7FEFF 		bl	printf
 1493              	.LVL144:
 1494 00d2 D2E7     		b	.L97
 1495              	.L109:
 957:Middlewares/Third_Party/LwIP/src/core/mem.c ****                     (((mem_ptr_t)mem) & (MEM_ALIGNMENT - 1)) == 0);
 1496              		.loc 1 957 9 discriminator 1 view .LVU479
 957:Middlewares/Third_Party/LwIP/src/core/mem.c ****                     (((mem_ptr_t)mem) & (MEM_ALIGNMENT - 1)) == 0);
 1497              		.loc 1 957 9 discriminator 1 view .LVU480
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 50


 1498 00d4 234B     		ldr	r3, .L112+8
 1499 00d6 40F2BD32 		movw	r2, #957
 1500 00da 2949     		ldr	r1, .L112+36
 1501 00dc 2348     		ldr	r0, .L112+16
 1502 00de FFF7FEFF 		bl	printf
 1503              	.LVL145:
 1504 00e2 CBE7     		b	.L98
 1505              	.LVL146:
 1506              	.L88:
 871:Middlewares/Third_Party/LwIP/src/core/mem.c ****       mem = ptr_to_mem(ptr);
 1507              		.loc 1 871 10 view .LVU481
 871:Middlewares/Third_Party/LwIP/src/core/mem.c ****       mem = ptr_to_mem(ptr);
 1508              		.loc 1 871 14 is_stmt 0 view .LVU482
 1509 00e4 2588     		ldrh	r5, [r4]
 1510              	.LVL147:
 1511              	.L87:
 870:Middlewares/Third_Party/LwIP/src/core/mem.c ****          ptr = ptr_to_mem(ptr)->next) {
 1512              		.loc 1 870 35 is_stmt 1 discriminator 1 view .LVU483
 870:Middlewares/Third_Party/LwIP/src/core/mem.c ****          ptr = ptr_to_mem(ptr)->next) {
 1513              		.loc 1 870 39 is_stmt 0 discriminator 1 view .LVU484
 1514 00e6 A846     		mov	r8, r5
 870:Middlewares/Third_Party/LwIP/src/core/mem.c ****          ptr = ptr_to_mem(ptr)->next) {
 1515              		.loc 1 870 58 discriminator 1 view .LVU485
 1516 00e8 3746     		mov	r7, r6
 1517 00ea C6F52053 		rsb	r3, r6, #10240
 870:Middlewares/Third_Party/LwIP/src/core/mem.c ****          ptr = ptr_to_mem(ptr)->next) {
 1518              		.loc 1 870 5 discriminator 1 view .LVU486
 1519 00ee 9D42     		cmp	r5, r3
 1520 00f0 2AD2     		bcs	.L110
 872:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 1521              		.loc 1 872 7 is_stmt 1 view .LVU487
 872:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 1522              		.loc 1 872 13 is_stmt 0 view .LVU488
 1523 00f2 2846     		mov	r0, r5
 1524 00f4 FFF7FEFF 		bl	ptr_to_mem
 1525              	.LVL148:
 1526 00f8 0446     		mov	r4, r0
 1527              	.LVL149:
 886:Middlewares/Third_Party/LwIP/src/core/mem.c ****           (mem->next - (ptr + SIZEOF_STRUCT_MEM)) >= size) {
 1528              		.loc 1 886 7 is_stmt 1 view .LVU489
 886:Middlewares/Third_Party/LwIP/src/core/mem.c ****           (mem->next - (ptr + SIZEOF_STRUCT_MEM)) >= size) {
 1529              		.loc 1 886 16 is_stmt 0 view .LVU490
 1530 00fa 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 886:Middlewares/Third_Party/LwIP/src/core/mem.c ****           (mem->next - (ptr + SIZEOF_STRUCT_MEM)) >= size) {
 1531              		.loc 1 886 10 view .LVU491
 1532 00fc 002B     		cmp	r3, #0
 1533 00fe F1D1     		bne	.L88
 887:Middlewares/Third_Party/LwIP/src/core/mem.c ****         /* mem is not used and at least perfect fit is possible:
 1534              		.loc 1 887 15 discriminator 1 view .LVU492
 1535 0100 0388     		ldrh	r3, [r0]
 887:Middlewares/Third_Party/LwIP/src/core/mem.c ****         /* mem is not used and at least perfect fit is possible:
 1536              		.loc 1 887 22 discriminator 1 view .LVU493
 1537 0102 A3EB0803 		sub	r3, r3, r8
 1538 0106 083B     		subs	r3, r3, #8
 886:Middlewares/Third_Party/LwIP/src/core/mem.c ****           (mem->next - (ptr + SIZEOF_STRUCT_MEM)) >= size) {
 1539              		.loc 1 886 24 discriminator 1 view .LVU494
 1540 0108 BB42     		cmp	r3, r7
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 51


 1541 010a EBD3     		bcc	.L88
 891:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* (in addition to the above, we test if another struct mem (SIZEOF_STRUCT_MEM) containin
 1542              		.loc 1 891 9 is_stmt 1 view .LVU495
 891:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* (in addition to the above, we test if another struct mem (SIZEOF_STRUCT_MEM) containin
 1543              		.loc 1 891 80 is_stmt 0 view .LVU496
 1544 010c 07F11402 		add	r2, r7, #20
 891:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* (in addition to the above, we test if another struct mem (SIZEOF_STRUCT_MEM) containin
 1545              		.loc 1 891 12 view .LVU497
 1546 0110 9342     		cmp	r3, r2
 1547 0112 A0D3     		bcc	.L89
 902:Middlewares/Third_Party/LwIP/src/core/mem.c ****           LWIP_ASSERT("invalid next ptr",ptr2 != MEM_SIZE_ALIGNED);
 1548              		.loc 1 902 11 is_stmt 1 view .LVU498
 902:Middlewares/Third_Party/LwIP/src/core/mem.c ****           LWIP_ASSERT("invalid next ptr",ptr2 != MEM_SIZE_ALIGNED);
 1549              		.loc 1 902 55 is_stmt 0 view .LVU499
 1550 0114 2E44     		add	r6, r6, r5
 1551              	.LVL150:
 902:Middlewares/Third_Party/LwIP/src/core/mem.c ****           LWIP_ASSERT("invalid next ptr",ptr2 != MEM_SIZE_ALIGNED);
 1552              		.loc 1 902 55 view .LVU500
 1553 0116 B6B2     		uxth	r6, r6
 902:Middlewares/Third_Party/LwIP/src/core/mem.c ****           LWIP_ASSERT("invalid next ptr",ptr2 != MEM_SIZE_ALIGNED);
 1554              		.loc 1 902 16 view .LVU501
 1555 0118 0836     		adds	r6, r6, #8
 1556 011a B6B2     		uxth	r6, r6
 1557              	.LVL151:
 903:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* create mem2 struct */
 1558              		.loc 1 903 11 is_stmt 1 view .LVU502
 903:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* create mem2 struct */
 1559              		.loc 1 903 11 view .LVU503
 1560 011c B6F5205F 		cmp	r6, #10240
 1561 0120 91D0     		beq	.L111
 1562              	.LVL152:
 1563              	.L90:
 903:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* create mem2 struct */
 1564              		.loc 1 903 11 discriminator 3 view .LVU504
 903:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* create mem2 struct */
 1565              		.loc 1 903 11 discriminator 3 view .LVU505
 905:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->used = 0;
 1566              		.loc 1 905 11 discriminator 3 view .LVU506
 905:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->used = 0;
 1567              		.loc 1 905 18 is_stmt 0 discriminator 3 view .LVU507
 1568 0122 3046     		mov	r0, r6
 1569 0124 FFF7FEFF 		bl	ptr_to_mem
 1570              	.LVL153:
 906:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->next = mem->next;
 1571              		.loc 1 906 11 is_stmt 1 discriminator 3 view .LVU508
 906:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->next = mem->next;
 1572              		.loc 1 906 22 is_stmt 0 discriminator 3 view .LVU509
 1573 0128 0023     		movs	r3, #0
 1574 012a 0371     		strb	r3, [r0, #4]
 907:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->prev = ptr;
 1575              		.loc 1 907 11 is_stmt 1 discriminator 3 view .LVU510
 907:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->prev = ptr;
 1576              		.loc 1 907 27 is_stmt 0 discriminator 3 view .LVU511
 1577 012c 2388     		ldrh	r3, [r4]
 907:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->prev = ptr;
 1578              		.loc 1 907 22 discriminator 3 view .LVU512
 1579 012e 0380     		strh	r3, [r0]	@ movhi
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 52


 908:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* and insert it between mem and mem->next */
 1580              		.loc 1 908 11 is_stmt 1 discriminator 3 view .LVU513
 908:Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* and insert it between mem and mem->next */
 1581              		.loc 1 908 22 is_stmt 0 discriminator 3 view .LVU514
 1582 0130 4580     		strh	r5, [r0, #2]	@ movhi
 910:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem->used = 1;
 1583              		.loc 1 910 11 is_stmt 1 discriminator 3 view .LVU515
 910:Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem->used = 1;
 1584              		.loc 1 910 21 is_stmt 0 discriminator 3 view .LVU516
 1585 0132 2680     		strh	r6, [r4]	@ movhi
 911:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 1586              		.loc 1 911 11 is_stmt 1 discriminator 3 view .LVU517
 911:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 1587              		.loc 1 911 21 is_stmt 0 discriminator 3 view .LVU518
 1588 0134 0123     		movs	r3, #1
 1589 0136 2371     		strb	r3, [r4, #4]
 913:Middlewares/Third_Party/LwIP/src/core/mem.c ****             ptr_to_mem(mem2->next)->prev = ptr2;
 1590              		.loc 1 913 11 is_stmt 1 discriminator 3 view .LVU519
 913:Middlewares/Third_Party/LwIP/src/core/mem.c ****             ptr_to_mem(mem2->next)->prev = ptr2;
 1591              		.loc 1 913 19 is_stmt 0 discriminator 3 view .LVU520
 1592 0138 0088     		ldrh	r0, [r0]
 1593              	.LVL154:
 913:Middlewares/Third_Party/LwIP/src/core/mem.c ****             ptr_to_mem(mem2->next)->prev = ptr2;
 1594              		.loc 1 913 14 discriminator 3 view .LVU521
 1595 013a B0F5205F 		cmp	r0, #10240
 1596 013e 8CD0     		beq	.L91
 914:Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 1597              		.loc 1 914 13 is_stmt 1 view .LVU522
 1598 0140 FFF7FEFF 		bl	ptr_to_mem
 1599              	.LVL155:
 914:Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 1600              		.loc 1 914 42 is_stmt 0 view .LVU523
 1601 0144 4680     		strh	r6, [r0, #2]	@ movhi
 1602 0146 88E7     		b	.L91
 1603              	.LVL156:
 1604              	.L110:
 965:Middlewares/Third_Party/LwIP/src/core/mem.c ****       }
 966:Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 967:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 968:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if we got interrupted by a mem_free, try again */
 969:Middlewares/Third_Party/LwIP/src/core/mem.c ****   } while (local_mem_free_count != 0);
 970:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 971:Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_STATS_INC(err);
 1605              		.loc 1 971 21 is_stmt 1 view .LVU524
 972:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_ALLOC_UNPROTECT();
 1606              		.loc 1 972 29 view .LVU525
 973:Middlewares/Third_Party/LwIP/src/core/mem.c ****   sys_mutex_unlock(&mem_mutex);
 1607              		.loc 1 973 3 view .LVU526
 1608 0148 0448     		ldr	r0, .L112
 1609 014a FFF7FEFF 		bl	sys_mutex_unlock
 1610              	.LVL157:
 974:Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("mem_malloc: could not allocate %"S16_F" bytes\n
 1611              		.loc 1 974 116 view .LVU527
 975:Middlewares/Third_Party/LwIP/src/core/mem.c ****   return NULL;
 1612              		.loc 1 975 3 view .LVU528
 1613              		.loc 1 975 10 is_stmt 0 view .LVU529
 1614 014e 0020     		movs	r0, #0
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 53


 1615              	.LVL158:
 1616              	.L84:
 976:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 1617              		.loc 1 976 1 view .LVU530
 1618 0150 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1619              	.LVL159:
 1620              	.L100:
 1621              	.LCFI7:
 1622              		.cfi_def_cfa_offset 0
 1623              		.cfi_restore 4
 1624              		.cfi_restore 5
 1625              		.cfi_restore 6
 1626              		.cfi_restore 7
 1627              		.cfi_restore 8
 1628              		.cfi_restore 14
 841:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 1629              		.loc 1 841 12 view .LVU531
 1630 0154 0020     		movs	r0, #0
 1631              	.LVL160:
 1632              		.loc 1 976 1 view .LVU532
 1633 0156 7047     		bx	lr
 1634              	.LVL161:
 1635              	.L102:
 1636              	.LCFI8:
 1637              		.cfi_def_cfa_offset 24
 1638              		.cfi_offset 4, -24
 1639              		.cfi_offset 5, -20
 1640              		.cfi_offset 6, -16
 1641              		.cfi_offset 7, -12
 1642              		.cfi_offset 8, -8
 1643              		.cfi_offset 14, -4
 855:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 1644              		.loc 1 855 12 view .LVU533
 1645 0158 0020     		movs	r0, #0
 1646              	.LVL162:
 855:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 1647              		.loc 1 855 12 view .LVU534
 1648 015a F9E7     		b	.L84
 1649              	.L113:
 1650              		.align	2
 1651              	.L112:
 1652 015c 00000000 		.word	.LANCHOR3
 1653 0160 00000000 		.word	.LANCHOR2
 1654 0164 00000000 		.word	.LC0
 1655 0168 38000000 		.word	.LC13
 1656 016c 44000000 		.word	.LC2
 1657 0170 00000000 		.word	.LANCHOR1
 1658 0174 00000000 		.word	.LC14
 1659 0178 1C000000 		.word	.LC15
 1660 017c 4C000000 		.word	.LC16
 1661 0180 7C000000 		.word	.LC17
 1662              		.cfi_endproc
 1663              	.LFE37:
 1665              		.section	.text.mem_calloc,"ax",%progbits
 1666              		.align	1
 1667              		.global	mem_calloc
 1668              		.syntax unified
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 54


 1669              		.thumb
 1670              		.thumb_func
 1671              		.fpu fpv5-sp-d16
 1673              	mem_calloc:
 1674              	.LVL163:
 1675              	.LFB38:
 977:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 978:Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_USE_POOLS */
 979:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 980:Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_LIBC_MALLOC && (!LWIP_STATS || !MEM_STATS)
 981:Middlewares/Third_Party/LwIP/src/core/mem.c **** void *
 982:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_calloc(mem_size_t count, mem_size_t size)
 983:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 984:Middlewares/Third_Party/LwIP/src/core/mem.c ****   return mem_clib_calloc(count, size);
 985:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 986:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 987:Middlewares/Third_Party/LwIP/src/core/mem.c **** #else /* MEM_LIBC_MALLOC && (!LWIP_STATS || !MEM_STATS) */
 988:Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 989:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Contiguously allocates enough space for count objects that are size bytes
 990:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * of memory each and returns a pointer to the allocated memory.
 991:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 992:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * The allocated memory is filled with bytes of value zero.
 993:Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 994:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param count number of objects to allocate
 995:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param size size of the objects to allocate
 996:Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @return pointer to allocated memory / NULL pointer if there is an error
 997:Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 998:Middlewares/Third_Party/LwIP/src/core/mem.c **** void *
 999:Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_calloc(mem_size_t count, mem_size_t size)
1000:Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 1676              		.loc 1 1000 1 is_stmt 1 view -0
 1677              		.cfi_startproc
 1678              		@ args = 0, pretend = 0, frame = 0
 1679              		@ frame_needed = 0, uses_anonymous_args = 0
 1680              		.loc 1 1000 1 is_stmt 0 view .LVU536
 1681 0000 38B5     		push	{r3, r4, r5, lr}
 1682              	.LCFI9:
 1683              		.cfi_def_cfa_offset 16
 1684              		.cfi_offset 3, -16
 1685              		.cfi_offset 4, -12
 1686              		.cfi_offset 5, -8
 1687              		.cfi_offset 14, -4
1001:Middlewares/Third_Party/LwIP/src/core/mem.c ****   void *p;
 1688              		.loc 1 1001 3 is_stmt 1 view .LVU537
1002:Middlewares/Third_Party/LwIP/src/core/mem.c ****   size_t alloc_size = (size_t)count * (size_t)size;
 1689              		.loc 1 1002 3 view .LVU538
 1690              		.loc 1 1002 10 is_stmt 0 view .LVU539
 1691 0002 01FB00F4 		mul	r4, r1, r0
 1692              	.LVL164:
1003:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
1004:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if ((size_t)(mem_size_t)alloc_size != alloc_size) {
 1693              		.loc 1 1004 3 is_stmt 1 view .LVU540
 1694              		.loc 1 1004 15 is_stmt 0 view .LVU541
 1695 0006 A0B2     		uxth	r0, r4
 1696              	.LVL165:
 1697              		.loc 1 1004 6 view .LVU542
 1698 0008 8442     		cmp	r4, r0
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 55


 1699 000a 08D1     		bne	.L116
1005:Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("mem_calloc: could not allocate %"SZT_F" bytes
1006:Middlewares/Third_Party/LwIP/src/core/mem.c ****     return NULL;
1007:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
1008:Middlewares/Third_Party/LwIP/src/core/mem.c **** 
1009:Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* allocate 'count' objects of size 'size' */
1010:Middlewares/Third_Party/LwIP/src/core/mem.c ****   p = mem_malloc((mem_size_t)alloc_size);
 1700              		.loc 1 1010 3 is_stmt 1 view .LVU543
 1701              		.loc 1 1010 7 is_stmt 0 view .LVU544
 1702 000c FFF7FEFF 		bl	mem_malloc
 1703              	.LVL166:
1011:Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (p) {
 1704              		.loc 1 1011 3 is_stmt 1 view .LVU545
 1705              		.loc 1 1011 6 is_stmt 0 view .LVU546
 1706 0010 0546     		mov	r5, r0
 1707 0012 28B1     		cbz	r0, .L114
1012:Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* zero the memory */
1013:Middlewares/Third_Party/LwIP/src/core/mem.c ****     memset(p, 0, alloc_size);
 1708              		.loc 1 1013 5 is_stmt 1 view .LVU547
 1709 0014 2246     		mov	r2, r4
 1710 0016 0021     		movs	r1, #0
 1711 0018 FFF7FEFF 		bl	memset
 1712              	.LVL167:
 1713              		.loc 1 1013 5 is_stmt 0 view .LVU548
 1714 001c 00E0     		b	.L114
 1715              	.LVL168:
 1716              	.L116:
1006:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 1717              		.loc 1 1006 12 view .LVU549
 1718 001e 0025     		movs	r5, #0
 1719              	.LVL169:
 1720              	.L114:
1014:Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
1015:Middlewares/Third_Party/LwIP/src/core/mem.c ****   return p;
1016:Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 1721              		.loc 1 1016 1 view .LVU550
 1722 0020 2846     		mov	r0, r5
 1723 0022 38BD     		pop	{r3, r4, r5, pc}
 1724              		.loc 1 1016 1 view .LVU551
 1725              		.cfi_endproc
 1726              	.LFE38:
 1728              		.comm	ram_heap,10259,4
 1729              		.section	.bss.lfree,"aw",%nobits
 1730              		.align	2
 1731              		.set	.LANCHOR2,. + 0
 1734              	lfree:
 1735 0000 00000000 		.space	4
 1736              		.section	.bss.mem_mutex,"aw",%nobits
 1737              		.align	2
 1738              		.set	.LANCHOR3,. + 0
 1741              	mem_mutex:
 1742 0000 00000000 		.space	4
 1743              		.section	.bss.ram,"aw",%nobits
 1744              		.align	2
 1745              		.set	.LANCHOR0,. + 0
 1748              	ram:
 1749 0000 00000000 		.space	4
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 56


 1750              		.section	.bss.ram_end,"aw",%nobits
 1751              		.align	2
 1752              		.set	.LANCHOR1,. + 0
 1755              	ram_end:
 1756 0000 00000000 		.space	4
 1757              		.text
 1758              	.Letext0:
 1759              		.file 2 "d:\\dev\\gcc-arm-none-eabi\\9_2019_q4-major\\lib\\gcc\\arm-none-eabi\\9.2.1\\include\\std
 1760              		.file 3 "d:\\dev\\gcc-arm-none-eabi\\9_2019_q4-major\\arm-none-eabi\\include\\machine\\_default_ty
 1761              		.file 4 "d:\\dev\\gcc-arm-none-eabi\\9_2019_q4-major\\arm-none-eabi\\include\\sys\\lock.h"
 1762              		.file 5 "d:\\dev\\gcc-arm-none-eabi\\9_2019_q4-major\\arm-none-eabi\\include\\sys\\_types.h"
 1763              		.file 6 "d:\\dev\\gcc-arm-none-eabi\\9_2019_q4-major\\arm-none-eabi\\include\\sys\\reent.h"
 1764              		.file 7 "d:\\dev\\gcc-arm-none-eabi\\9_2019_q4-major\\arm-none-eabi\\include\\stdlib.h"
 1765              		.file 8 "d:\\dev\\gcc-arm-none-eabi\\9_2019_q4-major\\arm-none-eabi\\include\\sys\\_stdint.h"
 1766              		.file 9 "Middlewares/Third_Party/LwIP/system/arch/cc.h"
 1767              		.file 10 "d:\\dev\\gcc-arm-none-eabi\\9_2019_q4-major\\arm-none-eabi\\include\\time.h"
 1768              		.file 11 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 1769              		.file 12 "d:\\dev\\gcc-arm-none-eabi\\9_2019_q4-major\\arm-none-eabi\\include\\ctype.h"
 1770              		.file 13 "Middlewares/Third_Party/LwIP/src/include/lwip/mem.h"
 1771              		.file 14 "Core/Inc/FreeRTOSConfig.h"
 1772              		.file 15 "Middlewares/Third_Party/FreeRTOS/Source/include/queue.h"
 1773              		.file 16 "Middlewares/Third_Party/FreeRTOS/Source/include/semphr.h"
 1774              		.file 17 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.h"
 1775              		.file 18 "Middlewares/Third_Party/LwIP/system/arch/sys_arch.h"
 1776              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 1777              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 1778              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/memp_priv.h"
 1779              		.file 22 "d:\\dev\\gcc-arm-none-eabi\\9_2019_q4-major\\arm-none-eabi\\include\\stdio.h"
 1780              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/sys.h"
 1781              		.file 24 "<built-in>"
ARM GAS  D:\Dev\msys64\tmp\ccgwRyp4.s 			page 57


DEFINED SYMBOLS
                            *ABS*:00000000 mem.c
D:\Dev\msys64\tmp\ccgwRyp4.s:18     .text.ptr_to_mem:00000000 $t
D:\Dev\msys64\tmp\ccgwRyp4.s:25     .text.ptr_to_mem:00000000 ptr_to_mem
D:\Dev\msys64\tmp\ccgwRyp4.s:46     .text.ptr_to_mem:00000008 $d
D:\Dev\msys64\tmp\ccgwRyp4.s:51     .text.mem_to_ptr:00000000 $t
D:\Dev\msys64\tmp\ccgwRyp4.s:57     .text.mem_to_ptr:00000000 mem_to_ptr
D:\Dev\msys64\tmp\ccgwRyp4.s:77     .text.mem_to_ptr:0000000c $d
D:\Dev\msys64\tmp\ccgwRyp4.s:82     .text.mem_link_valid:00000000 $t
D:\Dev\msys64\tmp\ccgwRyp4.s:88     .text.mem_link_valid:00000000 mem_link_valid
D:\Dev\msys64\tmp\ccgwRyp4.s:204    .text.mem_link_valid:00000058 $d
D:\Dev\msys64\tmp\ccgwRyp4.s:209    .rodata.plug_holes.str1.4:00000000 $d
D:\Dev\msys64\tmp\ccgwRyp4.s:228    .text.plug_holes:00000000 $t
D:\Dev\msys64\tmp\ccgwRyp4.s:234    .text.plug_holes:00000000 plug_holes
D:\Dev\msys64\tmp\ccgwRyp4.s:446    .text.plug_holes:000000dc $d
D:\Dev\msys64\tmp\ccgwRyp4.s:459    .rodata.mem_init.str1.4:00000000 $d
D:\Dev\msys64\tmp\ccgwRyp4.s:463    .text.mem_init:00000000 $t
D:\Dev\msys64\tmp\ccgwRyp4.s:470    .text.mem_init:00000000 mem_init
D:\Dev\msys64\tmp\ccgwRyp4.s:561    .text.mem_init:00000048 $d
                            *COM*:00002813 ram_heap
D:\Dev\msys64\tmp\ccgwRyp4.s:573    .rodata.mem_free.str1.4:00000000 $d
D:\Dev\msys64\tmp\ccgwRyp4.s:586    .text.mem_free:00000000 $t
D:\Dev\msys64\tmp\ccgwRyp4.s:593    .text.mem_free:00000000 mem_free
D:\Dev\msys64\tmp\ccgwRyp4.s:829    .text.mem_free:000000c8 $d
D:\Dev\msys64\tmp\ccgwRyp4.s:843    .rodata.mem_trim.str1.4:00000000 $d
D:\Dev\msys64\tmp\ccgwRyp4.s:853    .text.mem_trim:00000000 $t
D:\Dev\msys64\tmp\ccgwRyp4.s:860    .text.mem_trim:00000000 mem_trim
D:\Dev\msys64\tmp\ccgwRyp4.s:1250   .text.mem_trim:00000180 $d
D:\Dev\msys64\tmp\ccgwRyp4.s:1263   .rodata.mem_malloc.str1.4:00000000 $d
D:\Dev\msys64\tmp\ccgwRyp4.s:1276   .text.mem_malloc:00000000 $t
D:\Dev\msys64\tmp\ccgwRyp4.s:1283   .text.mem_malloc:00000000 mem_malloc
D:\Dev\msys64\tmp\ccgwRyp4.s:1652   .text.mem_malloc:0000015c $d
D:\Dev\msys64\tmp\ccgwRyp4.s:1666   .text.mem_calloc:00000000 $t
D:\Dev\msys64\tmp\ccgwRyp4.s:1673   .text.mem_calloc:00000000 mem_calloc
D:\Dev\msys64\tmp\ccgwRyp4.s:1730   .bss.lfree:00000000 $d
D:\Dev\msys64\tmp\ccgwRyp4.s:1734   .bss.lfree:00000000 lfree
D:\Dev\msys64\tmp\ccgwRyp4.s:1737   .bss.mem_mutex:00000000 $d
D:\Dev\msys64\tmp\ccgwRyp4.s:1741   .bss.mem_mutex:00000000 mem_mutex
D:\Dev\msys64\tmp\ccgwRyp4.s:1744   .bss.ram:00000000 $d
D:\Dev\msys64\tmp\ccgwRyp4.s:1748   .bss.ram:00000000 ram
D:\Dev\msys64\tmp\ccgwRyp4.s:1751   .bss.ram_end:00000000 $d
D:\Dev\msys64\tmp\ccgwRyp4.s:1755   .bss.ram_end:00000000 ram_end

UNDEFINED SYMBOLS
printf
sys_mutex_new
sys_arch_protect
sys_arch_unprotect
sys_mutex_lock
sys_mutex_unlock
memset
